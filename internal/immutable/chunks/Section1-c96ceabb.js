var uo=Object.defineProperty;var fo=(e,t,n)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var v=(e,t,n)=>(fo(e,typeof t!="symbol"?t+"":t,n),n);import{a as ho,O as po,a7 as go,S as ut,i as ft,s as dt,d as j,v as ht,a0 as Ze,a1 as Qe,o as un,a6 as zt,e as fn,g as se,H as ie,l as b,m as _,w as F,n as k,p as T,x as M,N as vt,q as p,u as x,M as y,U as ye,a8 as Sr,r as Fe,c as W,A as Wt,f as q,B as qt,C as Yt,k as ke,t as Te,F as Jt,a9 as Be,y as Xe,J as Er,h as _r,j as kr,aa as Bn,Y as jn,ab as bt}from"./index-669fa34a.js";import{d as En,r as yo,w as mo}from"./index-33e98f91.js";function wo(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}function xr(e){if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Non array buffer passed to arrayBufferToUint8")}function bo(e,t,n){return n?`Use of '${n}' requires \`${t}\` which is unavailable on the '${e}' object within the currently executing environment.`:`\`${t}\` is unavailable on the '${e}' object within the currently executing environment.`}function it(e,{throwIfUnavailable:t,usageDesc:n,returnEmptyObject:r}={}){let s;try{if(s=wo(),s){let i=s[e];if(i)return i}}catch(i){console.error(`Error getting object '${e}' from global scope '${s}': ${i}`)}if(t){let i=bo(s,e.toString(),n);throw console.error(i),new Error(i)}if(r)return{}}function Ie(e){let t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t),r=0;for(let s=0;s<e.length;s++)n.set(e[s],r),r+=e[s].length;return n}function St(e){return typeof e=="object"&&(e=Uint8Array.from(e)),e}function vo(e){var t;return e!==null&&typeof e=="object"&&((t=e==null?void 0:e.constructor)==null?void 0:t.wordSize)===26&&Array.isArray(e==null?void 0:e.words)}function Se(e){return new TextEncoder().encode(e)}function So(e){return new TextDecoder().decode(e)}var ks=new Array(255);for(let e=0;e<=255;++e)ks[e]=e.toString(16).padStart(2,"0");function de(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error(`hexToBytes: received invalid unpadded hex, got: ${e.length}`);let t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){let r=n*2;t[n]=Number.parseInt(e.slice(r,r+2),16)}return t}function Z(e){let t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=ks[e[n]];return t.join("")}function Dt(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}var Gt=(e,t=8)=>(typeof e=="bigint"?e:_n(e,!1)).toString(16).padStart(t*2,"0"),Eo=e=>JSON.parse(So(de(e))),_o=e=>typeof e=="string"?de(e):e,zn=e=>e.startsWith("0x")?e.replace("0x",""):e,xs=BigInt(0),Ae=BigInt(1);function ko(e,t=128){if(e<-(Ae<<BigInt(t)-Ae)||e>(Ae<<BigInt(t)-Ae)-Ae)throw`Integer out of range given ${t} bits to represent.`;return e>=xs?e:~(-e-Ae|~((Ae<<BigInt(t))-Ae))}function xo(e,t=128){return(e&Ae<<BigInt(t)-Ae)>xs&&(e=e-(Ae<<BigInt(t))),e}function Ao(e,t=!1,n=8){return de(Gt(_n(e,t),n))}function _n(e,t=!1){if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(e)}if(typeof e=="string")if(e.toLowerCase().startsWith("0x")){let n=e.slice(2);n=n.padStart(n.length+n.length%2,"0"),e=de(n)}else try{return BigInt(e)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${e}' is not finite.`)}if(typeof e=="bigint")return e;if(e instanceof Uint8Array)return t?xo(Dt(Z(e))):Dt(Z(e));if(vo(e))return BigInt(e.toString());throw new TypeError(`Invalid value type. Must be a number, bigint, integer-string, hex-string, BN.js instance, or Buffer, got: ${typeof e}.`)}function To(e){return`[micro-stacks] ${e}`}var Io=class extends Error{constructor(e){super(e),this.message=To(e),this.name=this.constructor.name}},Co=typeof window<"u",$o=Co?{referrer:"no-referrer",referrerPolicy:"no-referrer"}:{};async function pt(e,t={}){return fetch(e,{...$o,...t})}var As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function Bo(e){let t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let n=e.indexOf("=");n===-1&&(n=t);let r=n===t?0:4-n%4;return[n,r]}function No(e,t,n){return(t+n)*3/4-n}function Po(e,t){let{revLookup:n}=Ar(t),r,s=Bo(e),i=s[0],o=s[1],a=new Uint8Array(No(e,i,o)),c=0,l=o>0?i-4:i,u;for(u=0;u<l;u+=4)r=n[e.charCodeAt(u)]<<18|n[e.charCodeAt(u+1)]<<12|n[e.charCodeAt(u+2)]<<6|n[e.charCodeAt(u+3)],a[c++]=r>>16&255,a[c++]=r>>8&255,a[c++]=r&255;return o===2&&(r=n[e.charCodeAt(u)]<<2|n[e.charCodeAt(u+1)]>>4,a[c++]=r&255),o===1&&(r=n[e.charCodeAt(u)]<<10|n[e.charCodeAt(u+1)]<<4|n[e.charCodeAt(u+2)]>>2,a[c++]=r>>8&255,a[c++]=r&255),a}function Uo(e){let t=e.length,n=t%4;if(!n)return e;let r=4-n,s=t+r;return e.padEnd(s,"=")}function Ht(e){return Po(Uo(e),As)}function Ro(e,t){let{lookup:n}=Ar(t);return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function Do(e,t,n,r){let s,i=[];for(let o=t;o<n;o+=3)s=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Ro(s,r));return i.join("")}var Nn=new Map;function Ar(e){if(Nn.has(e))return Nn.get(e);let t=[],n=[];for(let r=0,s=e.length;r<s;++r)t[r]=e[r],n[e.charCodeAt(r)]=r;return n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63,Nn.set(e,{lookup:t,revLookup:n}),{lookup:t,revLookup:n}}function Ts(e,t){let{lookup:n}=Ar(t),r,s=e.length,i=s%3,o=[],a=16383;for(let c=0,l=s-i;c<l;c+=a)o.push(Do(e,c,c+a>l?l:c+a,t));return i===1?(r=e[s-1],o.push(n[r>>2]+n[r<<4&63]+"==")):i===2&&(r=(e[s-2]<<8)+e[s-1],o.push(n[r>>10]+n[r>>4&63]+n[r<<2&63]+"=")),o.join("")}function Wn(e){return Ts(e,As)}function Is(e){return Ts(e,Oo)}var Xr="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",es=BigInt(58);function Ho(e){if(e.length===0)return"";typeof e=="string"&&(typeof TextEncoder<"u"?e=new TextEncoder().encode(e):e=new Uint8Array(e.split("").map(r=>r.charCodeAt(0))));let t=BigInt("0x"+Z(e)),n=[];for(;t>0;){let r=Number(t%es);t=t/es,n.push(Xr[r])}for(let r=0;e[r]===0;r++)n.push(Xr[0]);return n.reverse().join("")}function Fo(e){let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function en(e,t,n,r,s){if(r||(r=0),!s&&s!==0&&(s=e.length),n>=t.length&&(n=t.length),n||(n=0),s>0&&s<r&&(s=r),s===r||t.length===0||e.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=e.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>e.length&&(s=e.length),t.length-n<s-r&&(s=t.length-n+r);let i=s-r;return e===t&&typeof Uint8Array.prototype.copyWithin=="function"?e.copyWithin(n,r,s):Uint8Array.prototype.set.call(t,e.subarray(r,s),n),i}var nt=class{constructor(){v(this,"_value",[])}get value(){return this._value}appendHexString(e){this.value.push(de(e))}push(e){return this._value.push(e)}appendByte(e){if(!Number.isInteger(e)||e<0||e>255)throw new Error(`Value ${e} is not a valid byte`);this.value.push(Uint8Array.from([e]))}concatBuffer(){return Ie(this.value)}};function tn(e,t,n){return t=+t,n=n>>>0,e[n]=t&255,n+1}function Mo(e,t,n){return t=+t,n=n>>>0,e[n]=t&255,e[n+1]=t>>>8,n+2}function Pn(e,t,n){return t=+t,n>>>=0,e[n+3]=t>>>24,e[n+2]=t>>>16,e[n+1]=t>>>8,e[n]=t&255,n+4}function Ko(e,t,n){return t=+t,n>>>=0,e[n]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t&255,n+4}function ts(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Lo(e,t){if(!ts(e,Uint8Array)||!ts(t,Uint8Array))throw new TypeError('The "buf1", "buf2" arguments must be one of type Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let s=0,i=Math.min(n,r);s<i;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0}var et=(e=>(e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet",e))(et||{}),Ft=(e=>(e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet",e))(Ft||{});/*! micro-base58 - MIT License (c) 2021, Paul Miller (https://paulmillr.com) */function qn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Vo(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Cs(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function jo(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qn(e.outputLen),qn(e.blockLen)}function zo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wo(e,t){Cs(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const rt={number:qn,bool:Vo,bytes:Cs,hash:jo,exists:zo,output:Wo};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Un=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$e=(e,t)=>e<<32-t|e>>>t,qo=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qo)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yn(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Tr(e){if(typeof e=="string"&&(e=Yn(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class Jn{clone(){return this._cloneInto()}}function Zt(e){const t=r=>e().update(Tr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Yo(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class Ir extends Jn{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Un(this.buffer)}update(t){rt.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=Tr(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Un(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rt.exists(this),rt.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let c=o;c<s;c++)n[c]=0;Yo(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Un(t);this.get().forEach((c,l)=>a.setUint32(4*l,c,i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const Jo=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),$s=Uint8Array.from({length:16},(e,t)=>t),Go=$s.map(e=>(9*e+5)%16);let Cr=[$s],$r=[Go];for(let e=0;e<4;e++)for(let t of[Cr,$r])t.push(t[e].map(n=>Jo[n]));const Os=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Zo=Cr.map((e,t)=>e.map(n=>Os[t][n])),Qo=$r.map((e,t)=>e.map(n=>Os[t][n])),Xo=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),ea=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),nn=(e,t)=>e<<t|e>>>32-t;function ns(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const rn=new Uint32Array(16);class ta extends Ir{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let d=0;d<16;d++,n+=4)rn[d]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,h=f;for(let d=0;d<5;d++){const w=4-d,g=Xo[d],S=ea[d],A=Cr[d],m=$r[d],E=Zo[d],$=Qo[d];for(let C=0;C<16;C++){const O=nn(r+ns(d,i,a,l)+rn[A[C]]+g,E[C])+f|0;r=f,f=l,l=nn(a,10)|0,a=i,i=O}for(let C=0;C<16;C++){const O=nn(s+ns(w,o,c,u)+rn[m[C]]+S,$[C])+h|0;s=h,h=u,u=nn(c,10)|0,c=o,o=O}}this.set(this.h1+a+u|0,this.h2+l+h|0,this.h3+f+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){rn.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const rs=Zt(()=>new ta),na=(e,t,n)=>e&t^~e&n,ra=(e,t,n)=>e&t^e&n^t&n,sa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ve=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),je=new Uint32Array(64);class ia extends Ir{constructor(){super(64,32,8,!1),this.A=Ve[0]|0,this.B=Ve[1]|0,this.C=Ve[2]|0,this.D=Ve[3]|0,this.E=Ve[4]|0,this.F=Ve[5]|0,this.G=Ve[6]|0,this.H=Ve[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)je[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const h=je[f-15],d=je[f-2],w=$e(h,7)^$e(h,18)^h>>>3,g=$e(d,17)^$e(d,19)^d>>>10;je[f]=g+je[f-7]+w+je[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=$e(a,6)^$e(a,11)^$e(a,25),d=u+h+na(a,c,l)+sa[f]+je[f]|0,g=($e(r,2)^$e(r,13)^$e(r,22))+ra(r,s,i)|0;u=l,l=c,c=a,a=o+d|0,o=i,i=s,s=r,r=d+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){je.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Bs=Zt(()=>new ia),sn=BigInt(2**32-1),Gn=BigInt(32);function Ns(e,t=!1){return t?{h:Number(e&sn),l:Number(e>>Gn&sn)}:{h:Number(e>>Gn&sn)|0,l:Number(e&sn)|0}}function oa(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=Ns(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const aa=(e,t)=>BigInt(e>>>0)<<Gn|BigInt(t>>>0),ca=(e,t,n)=>e>>>n,la=(e,t,n)=>e<<32-n|t>>>n,ua=(e,t,n)=>e>>>n|t<<32-n,fa=(e,t,n)=>e<<32-n|t>>>n,da=(e,t,n)=>e<<64-n|t>>>n-32,ha=(e,t,n)=>e>>>n-32|t<<64-n,pa=(e,t)=>t,ga=(e,t)=>e,ya=(e,t,n)=>e<<n|t>>>32-n,ma=(e,t,n)=>t<<n|e>>>32-n,wa=(e,t,n)=>t<<n-32|e>>>64-n,ba=(e,t,n)=>e<<n-32|t>>>64-n;function va(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const Sa=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Ea=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,_a=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ka=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,xa=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Aa=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,U={fromBig:Ns,split:oa,toBig:aa,shrSH:ca,shrSL:la,rotrSH:ua,rotrSL:fa,rotrBH:da,rotrBL:ha,rotr32H:pa,rotr32L:ga,rotlSH:ya,rotlSL:ma,rotlBH:wa,rotlBL:ba,add:va,add3L:Sa,add3H:Ea,add4L:_a,add4H:ka,add5H:Aa,add5L:xa},[Ta,Ia]=U.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ze=new Uint32Array(80),We=new Uint32Array(80);class Or extends Ir{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:d,Gl:w,Hh:g,Hl:S}=this;return[t,n,r,s,i,o,a,c,l,u,f,h,d,w,g,S]}set(t,n,r,s,i,o,a,c,l,u,f,h,d,w,g,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=d|0,this.Gl=w|0,this.Hh=g|0,this.Hl=S|0}process(t,n){for(let E=0;E<16;E++,n+=4)ze[E]=t.getUint32(n),We[E]=t.getUint32(n+=4);for(let E=16;E<80;E++){const $=ze[E-15]|0,C=We[E-15]|0,O=U.rotrSH($,C,1)^U.rotrSH($,C,8)^U.shrSH($,C,7),L=U.rotrSL($,C,1)^U.rotrSL($,C,8)^U.shrSL($,C,7),P=ze[E-2]|0,z=We[E-2]|0,Q=U.rotrSH(P,z,19)^U.rotrBH(P,z,61)^U.shrSH(P,z,6),R=U.rotrSL(P,z,19)^U.rotrBL(P,z,61)^U.shrSL(P,z,6),he=U.add4L(L,R,We[E-7],We[E-16]),re=U.add4H(he,O,Q,ze[E-7],ze[E-16]);ze[E]=re|0,We[E]=he|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:d,Fl:w,Gh:g,Gl:S,Hh:A,Hl:m}=this;for(let E=0;E<80;E++){const $=U.rotrSH(f,h,14)^U.rotrSH(f,h,18)^U.rotrBH(f,h,41),C=U.rotrSL(f,h,14)^U.rotrSL(f,h,18)^U.rotrBL(f,h,41),O=f&d^~f&g,L=h&w^~h&S,P=U.add5L(m,C,L,Ia[E],We[E]),z=U.add5H(P,A,$,O,Ta[E],ze[E]),Q=P|0,R=U.rotrSH(r,s,28)^U.rotrBH(r,s,34)^U.rotrBH(r,s,39),he=U.rotrSL(r,s,28)^U.rotrBL(r,s,34)^U.rotrBL(r,s,39),re=r&i^r&a^i&a,B=s&o^s&c^o&c;A=g|0,m=S|0,g=d|0,S=w|0,d=f|0,w=h|0,{h:f,l:h}=U.add(l|0,u|0,z|0,Q|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=U.add3L(Q,he,B);r=U.add3H(N,z,R,re),s=N|0}({h:r,l:s}=U.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=U.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=U.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=U.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=U.add(this.Eh|0,this.El|0,f|0,h|0),{h:d,l:w}=U.add(this.Fh|0,this.Fl|0,d|0,w|0),{h:g,l:S}=U.add(this.Gh|0,this.Gl|0,g|0,S|0),{h:A,l:m}=U.add(this.Hh|0,this.Hl|0,A|0,m|0),this.set(r,s,i,o,a,c,l,u,f,h,d,w,g,S,A,m)}roundClean(){ze.fill(0),We.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ca extends Or{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class $a extends Or{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Oa=Zt(()=>new Or);Zt(()=>new Ca);Zt(()=>new $a);function be(e){return Bs.create().update(St(e)).digest()}function Ba(e){return Oa.create().update(St(e)).digest()}const Na=new Proxy({},{get(e,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.`)}}),Pa=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const V=BigInt(0),te=BigInt(1),ce=BigInt(2),Pt=BigInt(3),Ua=BigInt(8),Zn=ce**BigInt(256),ne={a:V,b:BigInt(7),P:Zn-ce**BigInt(32)-BigInt(977),n:Zn-BigInt("432420386565659656852420866394968145599"),h:te,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function ss(e){const{a:t,b:n}=ne,r=I(e*e),s=I(r*e);return I(s+t*e+n)}const on=ne.a===V;class Y{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof J))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Y(t.x,t.y,te)}static toAffineBatch(t){const n=Fa(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(t){return Y.toAffineBatch(t).map(Y.fromAffine)}equals(t){if(!(t instanceof Y))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=t,c=I(s**ce),l=I(a**ce),u=I(n*l),f=I(i*c),h=I(I(r*a)*l),d=I(I(o*s)*c);return u===f&&h===d}negate(){return new Y(this.x,I(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,s=I(t**ce),i=I(n**ce),o=I(i**ce),a=I(ce*(I((t+i)**ce)-s-o)),c=I(Pt*s),l=I(c**ce),u=I(l-ce*a),f=I(c*(a-u)-Ua*o),h=I(ce*n*r);return new Y(u,f,h)}add(t){if(!(t instanceof Y))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=t;if(i===V||o===V)return this;if(n===V||r===V)return t;const c=I(s**ce),l=I(a**ce),u=I(n*l),f=I(i*c),h=I(I(r*a)*l),d=I(I(o*s)*c),w=I(f-u),g=I(d-h);if(w===V)return g===V?this.double():Y.ZERO;const S=I(w**ce),A=I(w*S),m=I(u*S),E=I(g**ce-A-ce*m),$=I(g*(m-E)-h*A),C=I(s*a*w);return new Y(E,$,C)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=Y.ZERO;if(typeof t=="bigint"&&t===V)return n;let r=as(t);if(r===te)return this;if(!on){let f=n,h=this;for(;r>V;)r&te&&(f=f.add(h)),h=h.double(),r>>=te;return f}let{k1neg:s,k1:i,k2neg:o,k2:a}=ls(r),c=n,l=n,u=this;for(;i>V||a>V;)i&te&&(c=c.add(u)),a&te&&(l=l.add(u)),u=u.double(),i>>=te,a>>=te;return s&&(c=c.negate()),o&&(l=l.negate()),l=new Y(I(l.x*ne.beta),l.y,l.z),c.add(l)}precomputeWindow(t){const n=on?128/t+1:256/t+1,r=[];let s=this,i=s;for(let o=0;o<n;o++){i=s,r.push(i);for(let a=1;a<2**(t-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(t,n){!n&&this.equals(Y.BASE)&&(n=J.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&Qn.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=Y.normalizeZ(s),Qn.set(n,s)));let i=Y.ZERO,o=Y.ZERO;const a=1+(on?128/r:256/r),c=2**(r-1),l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<a;h++){const d=h*c;let w=Number(t&l);if(t>>=f,w>c&&(w-=u,t+=te),w===0){let g=s[d];h%2&&(g=g.negate()),o=o.add(g)}else{let g=s[d+Math.abs(w)-1];w<0&&(g=g.negate()),i=i.add(g)}}return{p:i,f:o}}multiply(t,n){let r=as(t),s,i;if(on){const{k1neg:o,k1:a,k2neg:c,k2:l}=ls(r);let{p:u,f}=this.wNAF(a,n),{p:h,f:d}=this.wNAF(l,n);o&&(u=u.negate()),c&&(h=h.negate()),h=new Y(I(h.x*ne.beta),h.y,h.z),s=u.add(h),i=f.add(d)}else{const{p:o,f:a}=this.wNAF(r,n);s=o,i=a}return Y.normalizeZ([s,i])[0]}toAffine(t=kt(this.z)){const{x:n,y:r,z:s}=this,i=t,o=I(i*i),a=I(o*i),c=I(n*o),l=I(r*a);if(I(s*i)!==te)throw new Error("invZ was invalid");return new J(c,l)}}Y.BASE=new Y(ne.Gx,ne.Gy,te);Y.ZERO=new Y(V,te,V);const Qn=new WeakMap;class J{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,Qn.delete(this)}static fromCompressedHex(t){const n=t.length===32,r=Ne(n?t:t.subarray(1));if(!Dn(r))throw new Error("Point is not on curve");const s=ss(r);let i=Ha(s);const o=(i&te)===te;n?o&&(i=I(-i)):(t[0]&1)===1!==o&&(i=I(-i));const a=new J(r,i);return a.assertValidity(),a}static fromUncompressedHex(t){const n=Ne(t.subarray(1,33)),r=Ne(t.subarray(33,65)),s=new J(n,r);return s.assertValidity(),s}static fromHex(t){const n=ot(t),r=n.length,s=n[0];if(r===32||r===33&&(s===2||s===3))return this.fromCompressedHex(n);if(r===65&&s===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return J.BASE.multiply(Ye(t))}static fromSignature(t,n,r){t=ot(t);const s=Ps(t),{r:i,s:o}=Hs(n);if(r!==0&&r!==1)throw new Error("Cannot recover signature: invalid recovery bit");const a=r&1?"03":"02",c=J.fromHex(a+st(i)),{n:l}=ne,u=kt(i,l),f=I(-s*u,l),h=I(o*u,l),d=J.BASE.multiplyAndAddUnsafe(c,f,h);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return Ge(this.toHex(t))}toHex(t=!1){const n=st(this.x);return t?`${this.y&te?"03":"02"}${n}`:`04${n}${st(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!Dn(n)||!Dn(r))throw new Error(t);const s=I(r*r),i=ss(n);if(I(s-i)!==V)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new J(this.x,I(-this.y))}double(){return Y.fromAffine(this).double().toAffine()}add(t){return Y.fromAffine(this).add(Y.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Y.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const s=Y.fromAffine(this),i=n===V||n===te||this!==J.BASE?s.multiplyUnsafe(n):s.multiply(n),o=Y.fromAffine(t).multiplyUnsafe(r),a=i.add(o);return a.equals(Y.ZERO)?void 0:a.toAffine()}}J.BASE=new J(ne.Gx,ne.Gy);J.ZERO=new J(V,V);function is(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function os(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${Et(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ne(n),left:e.subarray(t+2)}}function Ra(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${Et(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=os(e.subarray(2)),{data:r,left:s}=os(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Et(s)}`);return{r:t,s:r}}class Me{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=Mt(t),r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=n?Et(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Me(dn(s.slice(0,64)),dn(s.slice(64,128)))}static fromDER(t){const n=Mt(t);if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=Ra(n?t:Ge(t));return new Me(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!Kt(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Kt(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=ne.n>>te;return this.s>t}normalizeS(){return this.hasHighS()?new Me(this.r,ne.n-this.s):this}toDERRawBytes(t=!1){return Ge(this.toDERHex(t))}toDERHex(t=!1){const n=is(Bt(this.s));if(t)return n;const r=is(Bt(this.r)),s=Bt(r.length/2),i=Bt(n.length/2);return`30${Bt(r.length/2+n.length/2+4)}02${s}${r}02${i}${n}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Ge(this.toCompactHex())}toCompactHex(){return st(this.r)+st(this.s)}}function Nt(...e){if(!e.every(Mt))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function Mt(e){return e instanceof Uint8Array}const Da=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Et(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=Da[e[n]];return t}function st(e){if(e>Zn)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function Rn(e){return Ge(st(e))}function Bt(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function dn(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Ge(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function Ne(e){return dn(Et(e))}function ot(e){return e instanceof Uint8Array?Uint8Array.from(e):Ge(e)}function as(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&Kt(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function I(e,t=ne.P){const n=e%t;return n>=V?n:t+n}function _e(e,t){const{P:n}=ne;let r=e;for(;t-- >V;)r*=r,r%=n;return r}function Ha(e){const{P:t}=ne,n=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%t,l=c*c*e%t,u=_e(l,Pt)*l%t,f=_e(u,Pt)*l%t,h=_e(f,ce)*c%t,d=_e(h,r)*h%t,w=_e(d,s)*d%t,g=_e(w,o)*w%t,S=_e(g,a)*g%t,A=_e(S,o)*w%t,m=_e(A,Pt)*l%t,E=_e(m,i)*d%t,$=_e(E,n)*c%t;return _e($,ce)}function kt(e,t=ne.P){if(e===V||t<=V)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=I(e,t),r=t,s=V,i=te;for(;n!==V;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==te)throw new Error("invert: does not exist");return I(s,t)}function Fa(e,t=ne.P){const n=new Array(e.length),r=e.reduce((i,o,a)=>o===V?i:(n[a]=i,I(i*o,t)),te),s=kt(r,t);return e.reduceRight((i,o,a)=>o===V?i:(n[a]=I(i*n[a],t),I(i*o,t)),s),n}const cs=(e,t)=>(e+t/ce)/t,an=ce**BigInt(128);function ls(e){const{n:t}=ne,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-te*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=cs(i*e,t),a=cs(-r*e,t);let c=I(e-o*n-a*s,t),l=I(-o*r-a*i,t);const u=c>an,f=l>an;if(u&&(c=t-c),f&&(l=t-l),c>an||l>an)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:f,k2:l}}function Ps(e){const{n:t}=ne,r=e.length*8-256;let s=Ne(e);return r>0&&(s=s>>BigInt(r)),s>=t&&(s-=t),s}class Us{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return Je.hmacSha256(this.k,...t)}hmacSync(...t){throw new Error("utils.hmacSha256Sync is undefined, you need to set it")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function Kt(e){return V<e&&e<ne.n}function Dn(e){return V<e&&e<ne.P}function Rs(e,t,n){const r=Ne(e);if(!Kt(r))return;const{n:s}=ne,i=J.BASE.multiply(r),o=I(i.x,s);if(o===V)return;const a=I(kt(r,s)*I(t+n*o,s),s);if(a===V)return;const c=new Me(o,a),l=(i.x===c.r?0:2)|Number(i.y&te);return{sig:c,recovery:l}}function Ye(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");t=dn(e)}else if(Mt(e)){if(e.length!==32)throw new Error("Expected 32 bytes of private key");t=Ne(e)}else throw new TypeError("Expected valid private key");if(!Kt(t))throw new Error("Expected private key: 0 < key < n");return t}function Ds(e){return e instanceof J?(e.assertValidity(),e):J.fromHex(e)}function Hs(e){if(e instanceof Me)return e.assertValidity(),e;try{return Me.fromDER(e)}catch{return Me.fromCompact(e)}}function Pe(e,t=!1){return J.fromPrivateKey(e).toRawBytes(t)}function Ma(e,t,n,r=!1){return J.fromSignature(e,t,n).toRawBytes(r)}function us(e){const t=Mt(e),n=typeof e=="string",r=(t||n)&&e.length;return t?r===33||r===65:n?r===66||r===130:e instanceof J}function Fs(e,t,n=!1){if(us(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!us(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=Ds(t);return r.assertValidity(),r.multiply(Ye(e)).toRawBytes(n)}function Ms(e){const t=e.length>32?e.slice(0,32):e;return Ne(t)}function Ka(e){const t=Ms(e),n=I(t,ne.n);return Ks(n<V?t:n)}function Ks(e){if(typeof e!="bigint")throw new Error("Expected bigint");const t=st(e);return Ge(t)}function Ls(e,t,n){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=ot(e),s=Ye(t),i=[Ks(s),Ka(r)];if(n!=null){n===!0&&(n=Je.randomBytes(32));const c=ot(n);if(c.length!==32)throw new Error("sign: Expected 32 bytes of extra data");i.push(c)}const o=Nt(...i),a=Ms(r);return{seed:o,m:a,d:s}}function Vs(e,t){let{sig:n,recovery:r}=e;const{canonical:s,der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t);s&&n.hasHighS()&&(n=n.normalizeS(),r^=1);const a=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[a,r]:a}async function js(e,t,n={}){const{seed:r,m:s,d:i}=Ls(e,t,n.extraEntropy);let o;const a=new Us;for(await a.reseed(r);!(o=Rs(await a.generate(),s,i));)await a.reseed();return Vs(o,n)}function La(e,t,n={}){const{seed:r,m:s,d:i}=Ls(e,t,n.extraEntropy);let o;const a=new Us;for(a.reseedSync(r);!(o=Rs(a.generateSync(),s,i));)a.reseedSync();return Vs(o,n)}const Va={strict:!0};function hn(e,t,n,r=Va){let s;try{s=Hs(e),t=ot(t)}catch{return!1}const{r:i,s:o}=s;if(r.strict&&s.hasHighS())return!1;const a=Ps(t);let c;try{c=Ds(n)}catch{return!1}const{n:l}=ne,u=kt(o,l),f=I(a*u,l),h=I(i*u,l),d=J.BASE.multiplyAndAddUnsafe(c,f,h);return d?I(d.x,l)===i:!1}J.BASE._setWindowSize(8);const ve={node:Pa,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},fs={},Je={isValidPrivateKey(e){try{return Ye(e),!0}catch{return!1}},privateAdd:(e,t)=>{const n=Ye(e),r=Ye(t);return Rn(I(n+r,ne.n))},privateNegate:e=>{const t=Ye(e);return Rn(ne.n-t)},pointAddScalar:(e,t,n)=>{const r=J.fromHex(e),s=Ye(t),i=J.BASE.multiplyAndAddUnsafe(r,s,te);if(!i)throw new Error("Tweaked point at infinity");return i.toRawBytes(n)},pointMultiply:(e,t,n)=>{const r=J.fromHex(e),s=Ne(ot(t));return r.multiply(s).toRawBytes(n)},hashToPrivateKey:e=>{if(e=ot(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=I(Ne(e),ne.n-te)+te;return Rn(t)},randomBytes:(e=32)=>{if(ve.web)return ve.web.getRandomValues(new Uint8Array(e));if(ve.node){const{randomBytes:t}=ve.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Je.hashToPrivateKey(Je.randomBytes(40)),bytesToHex:Et,hexToBytes:Ge,concatBytes:Nt,mod:I,invert:kt,sha256:async(...e)=>{if(ve.web){const t=await ve.web.subtle.digest("SHA-256",Nt(...e));return new Uint8Array(t)}else if(ve.node){const{createHash:t}=ve.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(ve.web){const n=await ve.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Nt(...t),s=await ve.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}else if(ve.node){const{createHmac:n}=ve.node,r=n("sha256",e);return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=fs[e];if(n===void 0){const r=await Je.sha256(Uint8Array.from(e,s=>s.charCodeAt(0)));n=Nt(r,r),fs[e]=n}return Je.sha256(n,...t)},taggedHashSync:(e,...t)=>{throw new Error("utils.sha256Sync is undefined, you need to set it")},precompute(e=8,t=J.BASE){const n=t===J.BASE?t:new J(t.x,t.y);return n._setWindowSize(e),n.multiply(Pt),n}};var ja=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),za=class{constructor(e){v(this,"webCrypto");this.webCrypto=e}async encrypt(e,t,n,r){let s,i;if(e==="aes-128-cbc")s="AES-CBC",i=128;else if(e==="aes-256-cbc")s="AES-CBC",i=256;else throw new Error(`Unsupported cipher algorithm "${e}"`);let o=await this.webCrypto.subtle.importKey("raw",t,{name:s,length:i},!1,["encrypt"]),a=await this.webCrypto.subtle.encrypt({name:s,iv:n},o,r);return new Uint8Array(a)}async decrypt(e,t,n,r){let s,i;if(e==="aes-128-cbc")s="AES-CBC",i=128;else if(e==="aes-256-cbc")s="AES-CBC",i=256;else throw new Error(`Unsupported cipher algorithm "${e}"`);let o=await this.webCrypto.subtle.importKey("raw",t,{name:s,length:i},!1,["decrypt"]),a=await this.webCrypto.subtle.decrypt({name:s,iv:n},o,r);return new Uint8Array(a)}},Wa=class{constructor(e,t){v(this,"createCipher");v(this,"createDecipher");this.createCipher=e,this.createDecipher=t}async encrypt(e,t,n,r){if(e!=="aes-128-cbc"&&e!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${e}"`);let s=this.createCipher(e,t,n),i=Ie([s.update(r),s.final()]);return Promise.resolve(i)}async decrypt(e,t,n,r){if(e!=="aes-128-cbc"&&e!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${e}"`);let s=this.createDecipher(e,t,n),i=Ie([s.update(r),s.final()]);return Promise.resolve(i)}};function qa(){return typeof crypto<"u"&&typeof crypto.subtle<"u"}var Ya='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';async function Ja(){if(qa())return{lib:crypto,name:"webCrypto"};try{return{lib:ja("crypto"),name:"nodeCrypto"}}catch{throw new Error(Ya)}}async function zs(){let e=await Ja();return e.name==="webCrypto"?new za(e.lib):new Wa(e.lib.createCipheriv,e.lib.createDecipheriv)}async function Ga(e,t,n){return(await zs()).encrypt("aes-256-cbc",t,e,n)}async function Za(e,t,n){return(await zs()).decrypt("aes-256-cbc",t,e,n)}class Ws extends Jn{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,rt.hash(t);const r=Tr(n);if(this.iHash=t.create(),!(this.iHash instanceof Jn))throw new TypeError("Expected instance of class which extends utils.Hash");const s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(s);i.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return rt.exists(this),this.iHash.update(t),this}digestInto(t){rt.exists(this),rt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qs=(e,t,n)=>new Ws(e,t).update(n).digest();qs.create=(e,t)=>new Ws(e,t);function Ys(e,...t){let n=qs.create(Bs,St(e));for(let r of t)n.update(St(r));return Uint8Array.from(n.digest())}function Qa(e){return(Math.floor(e/16)+1)*16}function Xa(e){return Math.ceil(e/3)*4}function ec(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let n=32,r=66,s=64;return{payloadValuesLength:n+r+s,payloadShell:JSON.stringify(t)}}function tc(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}function nc(e){let{payloadShell:t,payloadValuesLength:n}=ec(e),r=Qa(e.contentLength),s;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")s=r*2;else if(e.cipherTextEncoding==="base64")s=Xa(r);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:i,signedPayloadValuesLength:o}=tc(t);return i.length+o+n+s}else return t.length+n+s}function rc(e){return typeof e=="string"?rs(e):rs.create().update(St(e)).digest()}var sc=class{digest(e){return rc(e)}};function ic(){return new sc}function Br(e){return ic().digest(e)}function Js(e){let t=Ba(e);return{encryptionKey:t.slice(0,32),hmacKey:t.slice(32)}}function Nr(e=32){return Je.randomBytes(e)}function Gs(e,t){let n=new Uint8Array([t]),r=new Uint8Array(25),s=new Uint8Array(21);s[0]=t,s.set(e,1);let i=be(s),o=be(i).slice(0,4);return r.set(n,0),r.set(e,1),r.set(o,e.length+1),Ho(r)}var oc={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},ac={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},Zs={bitcoin:oc,testnet:ac},cn=(e=>(e[e.mainnetP2PKH=22]="mainnetP2PKH",e[e.mainnetP2SH=20]="mainnetP2SH",e[e.testnetP2PKH=26]="testnetP2PKH",e[e.testnetP2SH=21]="testnetP2SH",e))(cn||{}),_t="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Pr=new Map;[..._t].forEach((e,t)=>Pr.set(e,t));var ln="0123456789abcdef",Xn=new Map;[...ln].forEach((e,t)=>Xn.set(e,t));function pn(e,t){let n=Qs(e,t),r=cc(Ie([t,n]));return`S${_t[e]}${r}`}function cc(e){let t=Z(e),n=[],r=0;for(let a=t.length-1;a>=0;a--)if(r<4){let c=Xn.get(t[a])>>r,l=0;a!==0&&(l=Xn.get(t[a-1]));let u=1+r,f=l%(1<<u)<<5-u,h=_t[c+f];r=u,n.unshift(h)}else r=0;let s=0;for(let a=0;a<n.length&&n[a]==="0";a++)s++;n=n.slice(s);let i=/^\u0000*/.exec(new TextDecoder().decode(e)),o=i?i[0].length:0;for(let a=0;a<o;a++)n.unshift(_t[0]);return n.join("")}function Qs(e,t){let n=be(Ie([Uint8Array.of(e),t]));return be(n).slice(0,4)}function xt(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!=="S")throw new Error('Invalid c32 address: must start with "S"');return lc(e.slice(1))}function lc(e){e=Xs(e);let t=uc(e.slice(1)),n=e[0],r=Pr.get(n),s=t.slice(-4),i=Qs(r,t.slice(0,-4));for(let o=0;o<s.length;o++)if(s[o]!==i[o])throw new Error("Invalid c32check string: checksum mismatch");return[r,t.slice(0,-4)]}function Xs(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}function uc(e){if(e=Xs(e),!RegExp(`^[${_t}]*$`).exec(e))throw new Error("Not a c32-encoded string");let t=RegExp(`^${_t[0]}*`).exec(e),n=t?t[0].length:0,r=[],s=0,i=0;for(let c=e.length-1;c>=0;c--){i===4&&(r.unshift(ln[s]),i=0,s=0);let l=(Pr.get(e[c])<<i)+s,u=ln[l%16];if(i+=1,s=l>>4,s>1<<i)throw new Error("Panic error in decoding.");r.unshift(u)}r.unshift(ln[s]),r.length%2===1&&r.unshift("0");let o=0;for(let c=0;c<r.length&&r[c]==="0";c++)o++;r=r.slice(o-o%2);let a=r.join("");for(let c=0;c<n;c++)a=`00${a}`;return de(a)}function ei(e){try{return xt(e),!0}catch{return!1}}function Ur(e,t=22){return pn(t,fc(_o(e)))}function ti(e){let t=Pe(e,!0),n=be(t),r=Br(n);return Gs(r,Zs.bitcoin.pubKeyHash)}function er(e){let t=typeof e=="string"?e:Z(e),n=be(de(t)),r=Br(n);return Gs(r,Zs.bitcoin.pubKeyHash)}function fc(e){let t=be(e);return Br(t)}async function tr(e){let{contents:t,privateKey:n}=e,r=t instanceof ArrayBuffer?xr(t):typeof t=="string"?Se(t):t,s=Z(Pe(n,!0)),i=be(r),o=await js(i,n,{canonical:!1});return{signature:Z(o),publicKey:s}}function ni(e,t=!1){let{contents:n,publicKey:r,signature:s}=e,i=n instanceof ArrayBuffer?xr(n):typeof n=="string"?Se(n):n,o=be(i);return hn(s,o,r,{strict:t})}async function dc(e){let{publicKey:t,content:n,cipherTextEncoding:r="hex",wasString:s}=e,i=Je.randomPrivateKey(),o=Pe(i,!0),a=Fs(i,t,!0);a=a.slice(1);let c=Js(a),l=Nr(16),u=await Ga(l,c.encryptionKey,n),f=Ie([l,o,u]),h=Ys(c.hmacKey,f),d;if(!r||r==="hex")d=Z(u);else if(r==="base64")d=Wn(u);else throw new Error(`Unexpected cipherTextEncoding "${r}"`);let w={iv:Z(l),ephemeralPK:Z(o),cipherText:d,mac:Z(h),wasString:s};return r&&r!=="hex"&&(w.cipherTextEncoding=r),w}function hc(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}async function ri(e){let{privateKey:t,cipherObject:n}=e;if(!n.ephemeralPK)throw Error("No ephemeralPK found in cipher object");let r=n.ephemeralPK,s=Fs(t,r,!0);s=s.slice(1);let i=Js(s),o=de(n.iv),a;if(!n.cipherTextEncoding||n.cipherTextEncoding==="hex")a=de(n.cipherText);else if(n.cipherTextEncoding==="base64")a=Ht(n.cipherText);else throw new Error(`Unexpected cipherTextEncoding "${n.cipherText}"`);let c=Ie([o,de(r),a]),l=Ys(i.hmacKey,c),u=de(n.mac);if(!hc(u,l))throw new Error("Decryption failed: failure in MAC check");let f=await Za(o,i.encryptionKey,a);return n.wasString?new TextDecoder().decode(f):f}function Rr(e,t){if(!t.privateKey)throw new Error("Private key is required for decryption.");try{let n=JSON.parse(e);return ri({privateKey:t.privateKey,cipherObject:n})}catch(n){throw n instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):n}}async function si(e,t){let{publicKey:n,privateKey:r,wasString:s}=t,{cipherTextEncoding:i,sign:o}=t;if(!r&&!n)throw new Error("Either public key or private key must be supplied for encryption.");if(!n&&r&&(n=Z(Pe(r,!0))),typeof s!="boolean"&&(s=typeof e=="string"),!n)throw new Error("micro-stacks/crypto - no public key found to encrypt content");let a=typeof e=="string"?Se(e):e,c=await dc({publicKey:n,content:a,wasString:s,cipherTextEncoding:i});if(!o)return JSON.stringify(c);if(typeof o=="string"&&(r=o),!r)throw new Error("micro-stacks/crypto - need private key to sign contents");let l=await tr({contents:JSON.stringify(c),privateKey:r});return JSON.stringify({...l,cipherText:JSON.stringify(c)})}function pc(e){let t=e.length,n=t%4;if(!n)return e;let r=4-n,s=t+r;return e.padEnd(s,"=")}function gc(e){return e instanceof Uint8Array?ds(Wn(e)):ds(Wn(new TextEncoder().encode(e)))}function yc(e){let t=Ht(mc(e));return new TextDecoder().decode(t)}function mc(e){let t;return e instanceof Uint8Array?t=new TextDecoder().decode(e):t=e,pc(t).replace(/\-/g,"+").replace(/_/g,"/")}function ds(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var He={encode:gc,decode:yc},gn=128,ii=0,wc=32,bc=16,vc=2,oi=bc|wc|ii<<6,yn=vc|ii<<6;function ai(e){return typeof e=="string"?Ht(e):e}function hs(e){let t=ai(e),n=32,r=n+1,s=t.length,i=0;if(t[i++]!==oi)throw new Error('Could not find expected "seq"');let o=t[i++];if(o===(gn|1)&&(o=t[i++]),s-i<o)throw new Error('"seq" specified length of "'+o+'", only "'+(s-i)+'" remaining');if(t[i++]!==yn)throw new Error('Could not find expected "int" for "r"');let a=t[i++];if(s-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(s-i-2)+'" available');if(r<a)throw new Error('"r" specified length of "'+a+'", max of "'+r+'" is acceptable');let c=i;if(i+=a,t[i++]!==yn)throw new Error('Could not find expected "int" for "s"');let l=t[i++];if(s-i!==l)throw new Error('"s" specified length of "'+l+'", expected "'+(s-i)+'"');if(r<l)throw new Error('"s" specified length of "'+l+'", max of "'+r+'" is acceptable');let u=i;if(i+=l,i!==s)throw new Error('Expected to consume entire buffer, but "'+(s-i)+'" bytes remain');let f=n-a,h=n-l,d=new Uint8Array(f+a+h+l);for(i=0;i<f;++i)d[i]=0;d.set(t.slice(c+Math.max(-f,0),c+a),i),i=n;for(let w=i;i<w+h;++i)d[i]=0;return d.set(t.slice(u+Math.max(-h,0),u+l),i),Is(d).replace(/=/g,"")}function ps(e,t,n){let r=0;for(;t+r<n&&e[t+r]===0;)++r;return e[t+r]>=gn&&--r,r}function gs(e){let t=ai(e),n=32,r=ps(t,0,n),s=ps(t,n,t.length),i=n-r,o=n-s,a=1+1+i+1+1+o,c=a<gn,l=new Uint8Array((c?2:3)+a),u=0;return l[u++]=oi,c?l[u++]=a:(l[u++]=gn|1,l[u++]=a&255),l[u++]=yn,l[u++]=i,r<0?(l[u++]=0,u+=en(t,l,u,0,n)):u+=en(t,l,u,r,n),l[u++]=yn,l[u++]=o,s<0?(l[u++]=0,en(t,l,u,n)):en(t,l,u,n+s),Is(l).replace(/=/g,"")}function nr(e,t){let n=[],r=He.encode(JSON.stringify(t));n.push(r);let s=He.encode(JSON.stringify(e));return n.push(s),n.join(".")}var Dr=class{constructor(e="ES256K",t){v(this,"tokenType");v(this,"rawPrivateKey");if(!t)throw new Io("TokenSigner: rawPrivateKey is required to sign a token");this.tokenType="JWT",this.rawPrivateKey=t}header(e={}){return{typ:this.tokenType,alg:"ES256K",...e}}async sign(e,t=!1,n={}){let r=this.header(n),s=nr(e,r),i=be(Se(s));return this.createWithSignedHash(e,t,r,s,i)}signSync(e,t=!1,n={}){let r=this.header(n),s=nr(e,r),i=be(Se(s));return this.createWithSignedHashSync(e,t,r,s,i)}async createWithSignedHash(e,t,n,r,s){let i=await js(s,this.rawPrivateKey,{canonical:!1}),o=hs(i);return t?{header:[He.encode(JSON.stringify(n))],payload:JSON.stringify(e),signature:[o]}:[r,o].join(".")}createWithSignedHashSync(e,t,n,r,s){let i=La(s,this.rawPrivateKey,{canonical:!1}),o=hs(i);return t?{header:[He.encode(JSON.stringify(n))],payload:JSON.stringify(e),signature:[o]}:[r,o].join(".")}},Sc=class{constructor(e,t){v(this,"tokenType");v(this,"rawPublicKey");this.tokenType="JWT",this.rawPublicKey=t}verify(e,t=!1){return typeof e=="string"?this.verifyCompact(e,t):typeof e=="object"?this.verifyExpanded(e,t):!1}verifyCompact(e,t){let n=e.split("."),r=n[0]+"."+n[1],s=o=>{let a=n[2],c=gs(a);return hn(Z(Ht(c)),Z(o),this.rawPublicKey,{strict:t})},i=be(Se(r));return s(i)}verifyExpanded(e,t){let n=[e.header.join("."),He.encode(e.payload)].join("."),r=!0,s=o=>(e.signature.map(a=>{let c=gs(a);hn(Z(Ht(c)),Z(o),this.rawPublicKey,{strict:t})||(r=!1)}),r),i=be(Se(n));return s(i)}};function Hr(e){if(typeof e=="string"){let t=e.split("."),n=JSON.parse(He.decode(t[0])),r=JSON.parse(He.decode(t[1])),s=t[2];return{header:n,payload:r,signature:s}}else if(typeof e=="object"){if(typeof e.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let t=e.payload;e.payload[0]!=="{"&&(t=He.decode(t));let n=[];return e.header.map(r=>{let s=JSON.parse(He.decode(r));n.push(s)}),{header:n,payload:JSON.parse(t),signature:e.signature}}}function Ec(e){return nr(e,{typ:"JWT",alg:"none"})+"."}var ys=BigInt("0xffffffffffffffffffffffffffffffff"),_c=BigInt(0);BigInt("0x7fffffffffffffffffffffffffffffff");BigInt("-170141183460469231731687303715884105728");var kn=(e=>(e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract",e))(kn||{}),kc=(e=>(e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8",e))(kc||{}),mn=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:2,buffer:Uint8Array.from(e)}},Lt=e=>{let t=_n(e);if(t<_c)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>ys)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${ys.toString()}`);return{type:1,value:t}};function ms(e){return{type:11,list:e}}function wn(){return{type:9}}function bn(e){return{type:10,value:e}}function xc(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}var xn=(e=>(e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.TransactionAuthField=10]="TransactionAuthField",e))(xn||{});function ci(e){let t=xt(e);return{type:0,version:t[0],hash160:Z(t[1])}}var Ac=(e,t)=>e?Se(e).length>t:!1;function li(e,t,n){let r=t||1,s=n||128;if(Ac(e,s))throw new Error(`String length exceeds maximum bytes ${s.toString()}`);return{type:2,content:e,lengthPrefixBytes:r,maxLengthBytes:s}}function An(e){let t=new nt;return t.appendHexString(Gt(e.version,1)),t.appendHexString(e.hash160),t.concatBuffer()}function Vt(e){let t=new nt,n=Se(e.content),r=n.byteLength;return t.appendHexString(Gt(r,e.lengthPrefixBytes)),t.push(n),t.concatBuffer()}var ws=e=>({type:13,data:e});function Tc(e){for(let t in e)if(!xc(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:12,data:e}}var Ic=(e=>(e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference",e))(Ic||{});function Ue(e,t){let n=new nt,r=Uint8Array.from([e]);return n.push(r),n.push(t),n.concatBuffer()}function Cc(e){return Uint8Array.from([e.type])}function $c(e){return e.type===9?new Uint8Array([e.type]):Ue(e.type,At(e.value))}function Oc(e){let t=new Uint8Array(4);return new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(t.byteOffset,e.buffer.length),Ue(e.type,Ie([t,Uint8Array.from(e.buffer)]))}function Bc(e){let t=Gt(ko(e.value),16),n=de(t);return Ue(e.type,n)}function Nc(e){let t=Gt(e.value,16),n=de(t);return Ue(e.type,n)}function Pc(e){return Ue(e.type,An(e.address))}function Uc(e){return Ue(e.type,Ie([An(e.address),Vt(e.contractName)]))}function Rc(e){return Ue(e.type,At(e.value))}function Dc(e){let t=new nt,n=new Uint8Array(4);Ko(n,e.list.length,0),t.push(n);for(let r of e.list){let s=At(r);t.push(s)}return Ue(e.type,t.concatBuffer())}function Hc(e){let t=[],n=new Uint8Array(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(n.byteOffset,Object.keys(e.data).length),t.push(n);let r=Object.keys(e.data).sort((s,i)=>{let o=Se(s),a=Se(i);return Lo(o,a)});for(let s of r){let i=li(s);t.push(Vt(i));let o=At(e.data[s]);t.push(o)}return Ue(e.type,Ie(t))}function ui(e,t){let n=new nt,r=(t==="ascii"?Fo:Se)(e.data),s=new Uint8Array(4);return new DataView(s.buffer,s.byteOffset,s.byteLength).setUint32(s.byteOffset,r.length),n.push(s),n.push(r),Ue(e.type,n.concatBuffer())}function Fc(e){return ui(e,"ascii")}function Mc(e){return ui(e,"utf8")}function At(e){switch(e.type){case 3:case 4:return Cc(e);case 9:case 10:return $c(e);case 2:return Oc(e);case 0:return Bc(e);case 1:return Nc(e);case 5:return Pc(e);case 6:return Uc(e);case 7:case 8:return Rc(e);case 11:return Dc(e);case 12:return Hc(e);case 13:return Fc(e);case 14:return Mc(e);default:throw new Error("Unable to serialize. Invalid Clarity Value.")}}function rr(e){return`0x${Z(At(e))}`}var Kc="https://stacks-node-api.mainnet.stacks.co",Lc="https://stacks-node-api.testnet.stacks.co",at=class{constructor(e={url:Kc}){v(this,"version",Ft.Mainnet);v(this,"chainId",et.Mainnet);v(this,"broadcastEndpoint","/v2/transactions");v(this,"transferFeeEstimateEndpoint","/v2/fees/transfer");v(this,"accountEndpoint","/v2/accounts");v(this,"contractAbiEndpoint","/v2/contracts/interface");v(this,"readOnlyFunctionCallEndpoint","/v2/contracts/call-read");v(this,"bnsLookupUrl");v(this,"_coreApiUrl");v(this,"fetcher");v(this,"getCoreApiUrl",()=>this._coreApiUrl);v(this,"isMainnet",()=>this.version===Ft.Mainnet);v(this,"getBroadcastApiUrl",()=>`${this.getCoreApiUrl()}${this.broadcastEndpoint}`);v(this,"getTransferFeeEstimateApiUrl",()=>`${this.getCoreApiUrl()}${this.transferFeeEstimateEndpoint}`);v(this,"getAccountApiUrl",e=>`${this.getCoreApiUrl()}${this.accountEndpoint}/${e}?proof=0`);v(this,"getAbiApiUrl",(e,t)=>`${this.getCoreApiUrl()}${this.contractAbiEndpoint}/${e}/${t}`);v(this,"getReadOnlyFunctionCallApiUrl",(e,t,n)=>`${this.getCoreApiUrl()}${this.readOnlyFunctionCallEndpoint}/${e}/${t}/${encodeURIComponent(n)}`);v(this,"getInfoUrl",()=>`${this.getCoreApiUrl()}/v2/info`);v(this,"getBlockTimeInfoUrl",()=>`${this.getCoreApiUrl()}/extended/v1/info/network_block_times`);v(this,"getPoxInfoUrl",()=>`${this.getCoreApiUrl()}/v2/pox`);v(this,"getRewardsUrl",(e,t)=>{let n=`${this.getCoreApiUrl()}/extended/v1/burnchain/rewards/${e}`;return t&&(n=`${n}?limit=${t.limit}&offset=${t.offset}`),n});v(this,"getRewardsTotalUrl",e=>`${this.getCoreApiUrl()}/extended/v1/burnchain/rewards/${e}/total`);v(this,"getRewardHoldersUrl",(e,t)=>{let n=`${this.getCoreApiUrl()}/extended/v1/burnchain/reward_slot_holders/${e}`;return t&&(n=`${n}?limit=${t.limit}&offset=${t.offset}`),n});v(this,"getStackerInfoUrl",(e,t)=>`${this.getCoreApiUrl()}${this.readOnlyFunctionCallEndpoint}
    ${e}/${t}/get-stacker-info`);if(!e.url&&!e.coreApiUrl)throw Error("[miro-stacks] Network initialized with no api url");this._coreApiUrl=e.url||e.coreApiUrl,this.bnsLookupUrl=e.bnsLookupUrl||e.url||e.coreApiUrl,this.fetcher=e.fetcher||pt}get coreApiUrl(){return this._coreApiUrl}set coreApiUrl(e){throw new Error("Cannot modify property `coreApiUrl` after object initialization")}getNameInfo(e){let t=`${this.bnsLookupUrl}/v1/names/${e}`;return this.fetcher(t).then(n=>{if(n.status===404)throw new Error("Name not found");if(n.status!==200)throw new Error(`Bad response status: ${n.status}`);return n.json()}).then(n=>n.address?Object.assign({},n,{address:n.address}):n)}},Tn=class extends at{constructor(t={url:Lc,fetcher:pt}){super(t);v(this,"version",Ft.Testnet);v(this,"chainId",et.Testnet)}},Vc=(e=>(e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any",e))(Vc||{});Ft.Mainnet;var Ke=(e=>(e[e.Allow=1]="Allow",e[e.Deny=2]="Deny",e))(Ke||{}),jc=(e=>(e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible",e))(jc||{}),zc=(e=>(e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored",e))(zc||{}),Wc=(e=>(e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH",e))(Wc||{}),qc=(e=>(e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig",e))(qc||{}),Yc=(e=>(e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed",e))(Yc||{}),jt=(e=>(e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual",e))(jt||{}),Jc=(e=>(e[e.DoesNotOwn=16]="DoesNotOwn",e[e.Owns=17]="Owns",e))(Jc||{}),Gc=(e=>(e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible",e))(Gc||{}),Zc=(e=>(e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther",e))(Zc||{}),Qc=(e=>(e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e))(Qc||{});function Xc(e,t,n){return typeof e=="string"&&(e=tl(e)),{type:xn.PostCondition,conditionType:0,principal:e,conditionCode:t,amount:_n(n,!1)}}function el(e){let t=new nt;return t.appendByte(e.conditionType),t.push(rl(e.principal)),(e.conditionType===1||e.conditionType===2)&&t.push(sl(e.assetInfo)),e.conditionType===2&&t.push(At(e.assetName)),t.appendByte(e.conditionCode),(e.conditionType===0||e.conditionType===1)&&t.push(Ao(e.amount,!1,8)),t.concatBuffer()}function tl(e){if(e.includes(".")){let[t,n]=e.split(".");return nl(t,n)}else return fi(e)}function fi(e){return{type:xn.Principal,prefix:kn.Standard,address:ci(e)}}function nl(e,t){return{type:xn.Principal,prefix:kn.Contract,contractName:li(t),address:ci(e)}}function rl(e){let t=new nt;return t.push(Uint8Array.from([e.prefix])),t.push(An(e.address)),e.prefix===kn.Contract&&t.push(Vt(e.contractName)),t.concatBuffer()}function sl(e){let t=new nt;return t.push(An(e.address)),t.push(Vt(e.contractName)),t.push(Vt(e.assetName)),t.concatBuffer()}var il=(e=>(e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed",e))(il||{});function vn(e,t,n){return Xc(fi(e),t,n)}var Hn=typeof document<"u",ol=(e=>(e.SessionStorageKey="stacks-session",e.NetworkStorageKey="stacks-network",e))(ol||{}),mt=it("localStorage",{returnEmptyObject:!0}),al={setItem:(e,t)=>{if(Hn)return mt==null?void 0:mt.setItem(e,t)},getItem:e=>{if(Hn){let t=mt==null?void 0:mt.getItem(e);if(t===null)throw new Error("defaultStorageAdapter: no value stored");return t}},removeItem:e=>{if(Hn)return mt==null?void 0:mt.removeItem(e)}},Qt=e=>e?Z(Pe(e,!0)):null;function cl(e){return e==null?void 0:e.map(t=>typeof t!="string"?Z(el(t)):t)}var Fr=(e,t)=>t?new Dr("ES256k",t).sign(e):Ec(e),Mr=async(e,t)=>{let n={...e,postConditions:cl(e.postConditions)};return Fr(n,t)},ll=(e=>(e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer",e))(ll||{});async function ul({functionArgs:e,privateKey:t,...n}){let r=Qt(t),s={...n,functionArgs:e.map(i=>zn(typeof i=="string"?i:rr(i))),txType:"contract_call",publicKey:r};return Mr(s,t)}async function fl({privateKey:e,...t}){let n={...t,publicKey:Qt(e),txType:"smart_contract"};return Mr(n,e)}async function dl({privateKey:e,...t}){let n={...t,amount:typeof t.amount=="bigint"?Number(t.amount).toString(10):t.amount,publicKey:Qt(e),txType:"token_transfer"};return Mr(n,e)}function hl(e){let t=e.split(":");if(t.length!==3)throw new TypeError("Decentralized IDs must have 3 parts");if(t[0].toLowerCase()!=="did")throw new TypeError('Decentralized IDs must start with "did"');return t[1].toLowerCase()}function pl(e){return e&&hl(e)==="btc-addr"?e.split(":")[2]:void 0}async function gl(e,t){let n=Hr(e),r=n==null?void 0:n.payload,s;if(r.private_key)try{let i=Eo(r.private_key);s=await ri({privateKey:t,cipherObject:i})}catch{console.error("[micro-stacks] failed to decrypt appPrivateKey")}return{addresses:r.profile.stxAddress,appPrivateKey:s,associationToken:r.associationToken,hubUrl:r.hubUrl,public_keys:r.public_keys,profile:r.profile,profile_url:r.profile_url,username:r.username,version:r.version,decentralizedID:r.iss,identityAddress:pl(r.iss)}}function di(){return it("StacksProvider",{returnEmptyObject:!1,usageDesc:"authenticate",throwIfUnavailable:!0})}async function yl(e,t=al,n=JSON.stringify){var r,s;if(!e.appDetails)throw Error("[micro-stacks] authenticate error: `authOptions.appDetails` are required for authentication");try{let i=Z(Nr()),o=await vl(e,i),a=await gl(o,i);return(r=e==null?void 0:e.onFinish)==null||r.call(e,a),t.setItem("stacks-session",n(a)),a}catch(i){(s=e==null?void 0:e.onCancel)==null||s.call(e,i.message)}}function ml(e,t){if(!e.appDetails)throw Error("[micro-stacks] authenticate error: `authOptions.appDetails` are required for authentication");let n=e.scopes||[],r=it("location",{returnEmptyObject:!0}).origin;return{scopes:[...new Set(["store_write",...n])],redirect_uri:r,public_keys:[t],domain_name:r,appDetails:e.appDetails}}async function wl(e,t){return new Dr("ES256k",t).sign(e)}async function bl(e,t){let n=Z(Pe(t)),r=ml(e,n);return wl(r,t)}async function vl(e,t){let n=di();if(!n)throw Error("This function can only be called on the client, and with the presence of StacksProvider");let r=await bl(e,t);return n.authenticationRequest(r)}function Kr(e){return async function(t){let{token:n,onFinish:r,onCancel:s}=t;try{let i=di();if(!i)throw new Error("[micro-stacks/connect] No Stacks provider");let o=i[e];if(typeof o!="function")throw new Error(`[micro-stacks/connect] StacksProvider method ${e} not found`);let a=await o(n);r==null||r(a)}catch(i){s==null||s(i==null?void 0:i.message)}}}var Sl=Kr("transactionRequest"),El=Kr("signatureRequest"),_l=Kr("structuredDataSignatureRequest"),kl=(e=>(e.Chrome="https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",e.Firefox="https://addons.mozilla.org/en-US/firefox/addon/hiro-wallet/",e.Mobile="https://www.xverse.app",e.Browser="https://www.hiro.so/wallet/install-web",e))(kl||{}),xl=async e=>{var n;let t={stxAddress:e.stxAddress,message:e.message,appDetails:(n=e.appDetails)!=null?n:null,publicKey:Qt(e.privateKey),network:e.network};return Fr(t,e.privateKey)},Al=async e=>{try{let t=await xl({message:e.message,network:e.network,privateKey:e.privateKey,stxAddress:e.stxAddress,authOrigin:e.authOrigin,appDetails:e.appDetails});return El({token:t,onFinish:e.onFinish,onCancel:e.onCancel})}catch(t){console.error("[micro-stacks] handleSignMessageRequest failed"),console.error(t)}},Tl=(e,t,n)=>Tc({name:ws(e),version:ws(t),"chain-id":Lt(n)}),Il=e=>{var o,a;var t;let n=typeof e.message!="string"?rr(e.message):e.message,r=Tl(e.domain.name,e.domain.version,(a=(o=e.domain.chainId)!=null?o:(t=e.network)==null?void 0:t.chainId)!=null?a:et.Mainnet),s=rr(r),i={stxAddress:e.stxAddress,message:zn(n),domain:zn(s),appDetails:e.appDetails,publicKey:Qt(e.privateKey),network:e.network};return Fr(i,e==null?void 0:e.privateKey)},Cl=async e=>{try{let t=await Il({message:e.message,domain:e.domain,privateKey:e.privateKey,stxAddress:e.stxAddress,authOrigin:e.authOrigin,appDetails:e.appDetails,network:e.network});return _l({token:t,onFinish:e.onFinish,onCancel:e.onCancel})}catch(t){console.error("[micro-stacks] handleSignStructuredDataRequest failed"),console.error(t)}},$l=9007199254740991;function hi(e){if(e<0||e>$l||e%1!==0)throw new RangeError("value out of range")}var pi=(e,t,n)=>{hi(e);let r;if(t||(t=new Uint8Array(Ol(e))),!St(t))throw new TypeError("uint8Array must be of Uint8Array type");return n||(n=0),e<253?(tn(t,e,n),r=1):e<=65535?(tn(t,253,n),Mo(t,e,n+1),r=3):e<=4294967295?(tn(t,254,n),Pn(t,e,n+1),r=5):(tn(t,255,n),Pn(t,e>>>0,n+1),Pn(t,e/4294967296|0,n+5),r=9),pi.bytes=r,t};function Ol(e){return hi(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var Bl=`Stacks Message Signing:
`;function gi(e){return be(Nl(e))}function Nl(e){let t=typeof e=="string"?Yn(e):e,n=pi(t.length);return Ie([Yn(Bl),n,t])}var Fn=32;function Pl(e){if(e.length<Fn*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),n=e.slice(2,2+Fn*2),r=e.slice(2+Fn*2);return{recoveryBytes:Dt(t),r:n,s:r}}function Ul(e){return e.slice(-2)+e.slice(0,-2)}var yi=({hash:e,signature:t,recoveryBytes:n})=>Ma(e,t,Number(n),!0),mi=e=>{let{signature:t,mode:n="rsv"}=e,{r,s,recoveryBytes:i}=Pl(n==="rsv"?Ul(t):t);return{signature:new Me(Dt(r),Dt(s)),recoveryBytes:i}},Rl=e=>{if(!e.publicKey&&!e.stxAddress)throw Error("[micro-stacks/connect[ verifyMessageSignature -- You must pass `stxAddress` if you are recovering the public key from the signature");let{message:t,mode:n="rsv"}=e,r=e.publicKey;try{let s=typeof t=="string"?gi(t):t,{signature:i,recoveryBytes:o}=mi({signature:e.signature,mode:n});if(!r){let[a]=xt(e.stxAddress);r=Z(yi({hash:s,signature:i,recoveryBytes:o}));let c=Ur(r,a);if(c!==e.stxAddress)return console.error(`[micro-stacks/connect] verifyMessageSignature Stacks address is not correct. expected: ${e.stxAddress}, received: ${c}`),!1}return hn(i,s,r,{strict:!1})}catch(s){return console.error("[micro-stacks/connect] verifyMessageSignature failed",s),!1}};const bs=e=>{let t;const n=new Set,r=(c,l)=>{const u=typeof c=="function"?c(t):c;if(u!==t){const f=t;t=(l!=null?l:typeof u!="object")?u:Object.assign({},t,u),n.forEach(h=>h(t,f))}},s=()=>t,a={setState:r,getState:s,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return t=e(r,s,a),a},Dl=e=>e?bs(e):bs,Hl=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let f=o(r.getState());l=h=>{const d=o(h);if(!u(f,d)){const w=f;a(f=d,w)}},c!=null&&c.fireImmediately&&a(f,f)}return s(l)},e(t,n,r)},Fl=Hl,Sn=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Sn(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Sn(r)(n)}}}},Ml=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,A)=>({...A,...S}),...t},o=!1;const a=new Set,c=new Set;let l;try{l=i.getStorage()}catch{}if(!l)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...S)},r,s);const u=Sn(i.serialize),f=()=>{const S=i.partialize({...r()});let A;const m=u({state:S,version:i.version}).then(E=>l.setItem(i.name,E)).catch(E=>{A=E});if(A)throw A;return m},h=s.setState;s.setState=(S,A)=>{h(S,A),f()};const d=e((...S)=>{n(...S),f()},r,s);let w;const g=()=>{var S;if(!l)return;o=!1,a.forEach(m=>m(r()));const A=((S=i.onRehydrateStorage)==null?void 0:S.call(i,r()))||void 0;return Sn(l.getItem.bind(l))(i.name).then(m=>{if(m)return i.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return i.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var E;return w=i.merge(m,(E=r())!=null?E:d),n(w,!0),f()}).then(()=>{A==null||A(w,void 0),o=!0,c.forEach(m=>m(w))}).catch(m=>{A==null||A(void 0,m)})};return s.persist={setOptions:S=>{i={...i,...S},S.getStorage&&(l=S.getStorage())},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(c.add(S),()=>{c.delete(S)})},g(),w||d},Kl=Ml;var Ll=!1,Mn="Invariant failed";function Vl(e,t){if(!e){if(Ll)throw new Error(Mn);var n=typeof t=="function"?t():t,r=n?Mn+": "+n:Mn;throw new Error(r)}}function jl(e){return e=zl(e),e=Wl(e),ql(e)}function zl(e){let t=/(^|[^\\]);.*/g;return e.replace(t,function(n,r){return r||""})}function Wl(e){let t=[],n=/\([\s\S]*?\)/gim,r=n.exec(e);for(;r!==null;){let i=r[0].replace(/\s+/gm," ");t.push({match:r,replacement:i}),r=n.exec(e)}let s=e.split("");for(let i of t){let{match:o,replacement:a}=i;s.splice(o.index,o[0].length,a)}return s.join("").replace(/\(|\)/gim," ")}function ql(e){let t={},n=e.split(`
`);for(let r of n){if(!r||!r.trim())continue;let s=r.toUpperCase();/\s+TXT\s+/.test(s)?(t.txt=t.txt||[],t.txt.push(eu(r))):s.indexOf("$ORIGIN")===0?t.$origin=r.split(/\s+/g)[1]:s.indexOf("$TTL")===0?t.$ttl=parseInt(r.split(/\s+/g)[1],10):/\s+SOA\s+/.test(s)?t.soa=Yl(r):/\s+NS\s+/.test(s)?(t.ns=t.ns||[],t.ns.push(Jl(r))):/\s+A\s+/.test(s)?(t.a=t.a||[],t.a.push(Gl(r,t.a))):/\s+AAAA\s+/.test(s)?(t.aaaa=t.aaaa||[],t.aaaa.push(Zl(r))):/\s+CNAME\s+/.test(s)?(t.cname=t.cname||[],t.cname.push(Ql(r))):/\s+MX\s+/.test(s)?(t.mx=t.mx||[],t.mx.push(Xl(r))):/\s+PTR\s+/.test(s)?(t.ptr=t.ptr||[],t.ptr.push(tu(r,t.ptr,t.$origin))):/\s+SRV\s+/.test(s)?(t.srv=t.srv||[],t.srv.push(nu(r))):/\s+SPF\s+/.test(s)?(t.spf=t.spf||[],t.spf.push(ru(r))):/\s+URI\s+/.test(s)&&(t.uri=t.uri||[],t.uri.push(su(r)))}return t}function Yl(e){let t={},n=e.trim().split(/\s+/g),r=n.length;return t.name=n[0],t.minimum=parseInt(n[r-1],10),t.expire=parseInt(n[r-2],10),t.retry=parseInt(n[r-3],10),t.refresh=parseInt(n[r-4],10),t.serial=parseInt(n[r-5],10),t.rname=n[r-6],t.mname=n[r-7],isNaN(n[1])||(t.ttl=parseInt(n[1],10)),t}function Jl(e){let t=e.trim().split(/\s+/g),n=t.length,r={name:t[0],host:t[n-1]};return isNaN(t[1])||(r.ttl=parseInt(t[1],10)),r}function Gl(e,t){let n=e.trim().split(/\s+/g),r=e.trim().toUpperCase().split(/\s+/g),s=n.length,i={name:n[0],ip:n[s-1]};return r.lastIndexOf("A")===0&&(t.length?i.name=t[t.length-1].name:i.name="@"),isNaN(n[1])||(i.ttl=parseInt(n[1],10)),i}function Zl(e){let t=e.trim().split(/\s+/g),n=t.length,r={name:t[0],ip:t[n-1]};return isNaN(t[1])||(r.ttl=parseInt(t[1],10)),r}function Ql(e){let t=e.trim().split(/\s+/g),n=t.length,r={name:t[0],alias:t[n-1]};return isNaN(t[1])||(r.ttl=parseInt(t[1],10)),r}function Xl(e){let t=e.trim().split(/\s+/g),n=t.length,r={name:t[0],preference:parseInt(t[n-2],10),host:t[n-1]};return isNaN(t[1])||(r.ttl=parseInt(t[1],10)),r}function eu(e){let t=e.trim().match(/[^\s"']+|"[^"]*"|'[^']*'/g);if(!t)throw new Error("Failure to tokenize TXT record");let n=t.length,r=t.indexOf("TXT");function s(a){return a.indexOf('"')>-1&&(a=a.split('"')[1]),a}let i;n-r-1>1?i=[...t.slice(r+1).map(s)]:i=s(t[n-1]);let o={name:t[0],txt:i};return isNaN(t[1])||(o.ttl=parseInt(t[1],10)),o}function tu(e,t,n){let r=e.trim().split(/\s+/g);e.trim().toUpperCase().split(/\s+/g).lastIndexOf("PTR")===0&&t[t.length-1]&&r.unshift(t[t.length-1].name);let s=r.length,i={name:r[0],fullname:`${r[0]}.${n}`,host:r[s-1]};return isNaN(r[1])||(i.ttl=parseInt(r[1],10)),i}function nu(e){let t=e.trim().split(/\s+/g),n=t.length,r={name:t[0],target:t[n-1],priority:parseInt(t[n-4],10),weight:parseInt(t[n-3],10),port:parseInt(t[n-2],10)};return isNaN(t[1])||(r.ttl=parseInt(t[1],10)),r}function ru(e){let t=e.trim().split(/\s+/g),n={name:t[0],data:""},r=t.length;for(;r-- >4;)n.data=t[r]+" "+n.data.trim();return isNaN(t[1])||(n.ttl=parseInt(t[1],10)),n}function su(e){let t=e.trim().split(/\s+/g),n=t.length,r={name:t[0],target:t[n-1].replace(/"/g,""),priority:parseInt(t[n-3],10),weight:parseInt(t[n-2],10)};return isNaN(t[1])||(r.ttl=parseInt(t[1],10)),r}var iu=Object.defineProperty,ou=(e,t,n)=>t in e?iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,au=(e,t,n)=>(ou(e,typeof t!="symbol"?t+"":t,n),n);function cu(e){var t;return(t=e==null?void 0:e.map(n=>({...n,domain:n.path})))!=null?t:null}function lu(e){let{hubInfo:t,privateKey:n,gaiaHubUrl:r,associationToken:s=null,scopes:i}=e,{challenge_text:o}=t,a=Z(Pe(n,!0)),c=Nr(16).toString();return{gaiaChallenge:o,hubUrl:r,iss:a,salt:c,associationToken:s,scopes:cu(i)}}function uu(e){let t=lu(e);return`v1:${new Dr("ES256K",e.privateKey).signSync(t)}`}var fu={challenge_text:'["gaiahub","0","storage2.blockstack.org","blockstack_storage_please_sign"]',latest_auth_version:"v1",max_file_upload_size_megabytes:20,read_url_prefix:"https://gaia.blockstack.org/hub/"};function du(e){let{gaiaHubUrl:t,privateKey:n,associationToken:r,scopes:s}=e,i=fu,{read_url_prefix:o,max_file_upload_size_megabytes:a}=i,c=uu({hubInfo:i,privateKey:n,gaiaHubUrl:t,associationToken:r,scopes:s});return{address:ti(n),url_prefix:o,token:c,server:t,max_file_upload_size_megabytes:a!=null?a:20}}var Le={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(Le);var wi=class extends Error{constructor(t){super();v(this,"message");v(this,"code");v(this,"parameter");let n=t.message,r=`Error Code: ${t.code}`,s=this.stack;if(s)r+=`Stack Trace:
${s}`;else try{throw new Error}catch(i){s=i.stack}n+=`
If you believe this exception is caused by a bug in blockstack.js,
      please file a bug report: https://github.com/blockstack/blockstack.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}},De=class extends wi{constructor(e){let t=`Failed to verify signature: ${e}`;super({code:Le.SIGNATURE_VERIFICATION_ERROR,message:t}),this.message=t,this.name="SignatureVerificationError"}},gt=class extends wi{constructor(t,n){super(t);v(this,"hubError");n&&(this.hubError={statusCode:n.status,statusText:n.statusText},typeof n.body=="string"?this.hubError.message=n.body:typeof n.body=="object"&&Object.assign(this.hubError,n.body))}},bi=class extends gt{constructor(e,t){super({message:e,code:Le.DOES_NOT_EXIST},t),this.name="DoesNotExist"}},hu=class extends gt{constructor(e,t){super({message:e,code:Le.CONFLICT_ERROR},t),this.name="ConflictError"}},pu=class extends gt{constructor(e,t){super({message:e,code:Le.NOT_ENOUGH_PROOF_ERROR},t),this.name="NotEnoughProofError"}},gu=class extends gt{constructor(e,t){super({message:e,code:Le.BAD_PATH_ERROR},t),this.name="BadPathError"}},yu=class extends gt{constructor(e,t){super({message:e,code:Le.VALIDATION_ERROR},t),this.name="ValidationError"}},sr=class extends gt{constructor(t,n,r){super({message:t,code:Le.PAYLOAD_TOO_LARGE_ERROR},n);v(this,"hubError");v(this,"maxUploadByteSize");this.name="PayloadTooLargeError",this.maxUploadByteSize=r}},mu=class extends gt{constructor(e,t){super({message:e,code:Le.PRECONDITION_FAILED_ERROR},t),this.name="PreconditionFailedError"}};async function wu(e){let t="",n;try{t=await e.text();try{n=JSON.parse(t)}catch{}}catch(i){console.debug(`Error getting bad http response text: ${i}`)}let r=e.status,s=e.statusText;return{status:r,statusText:s,body:n||t}}function vi(e){return Number.isFinite(e)?Math.floor(e*1024*1024):0}async function Si(e,t,n){if(e.ok)throw new Error("Cannot get a Stacks from a valid response.");let r=await wu(e);if(r.status===401)throw new yu(t,r);if(r.status===402)throw new pu(t,r);if(r.status===403)throw new gu(t,r);if(r.status===404)throw new bi(t,r);if(r.status===409)throw new hu(t,r);if(r.status===412)throw new mu(t,r);if(r.status===413){let s=n&&n.max_file_upload_size_megabytes?vi(n.max_file_upload_size_megabytes):0;throw new sr(t,r,s)}else throw new Error(t)}function bu(e){if(!e||!e.hubError||!e.hubError.statusCode)return!1;let t=e.hubError.statusCode;return t===401||t===409||t>=500&&t<=599}async function Kn(e){let{filename:t,contents:n,hubConfig:r,contentType:s="application/octet-stream"}=e,i={"Content-Type":s,Authorization:`bearer ${r.token}`},o=await pt(`${r.server}/store/${r.address}/${t}`,{method:"POST",headers:i,body:n});if(!o.ok)throw await Si(o,"Error when uploading to Gaia hub.",r);let a=await o.text();return JSON.parse(a)}function Ei(e,t){return Promise.resolve(`${t.url_prefix}${t.address}/${e}`)}var wt=".sig",_i="https://stacks-node-api.stacks.co/v1/names",ki=class{constructor(e,t){v(this,"content");v(this,"wasString");v(this,"contentType");v(this,"contentByteLength");v(this,"loadedData");this.wasString=typeof e=="string",this.content=ki.normalizeContentDataType(e,t),this.contentType=t||this.detectContentType(),this.contentByteLength=this.detectContentLength()}static normalizeContentDataType(e,t){try{if(typeof e=="string"){let n=(t||"").toLowerCase().replace("-","");if(n.includes("charset")&&!n.includes("charset=utf8")&&!n.includes("charset=ascii"))throw new Error(`Unable to determine byte length with charset: ${t}`);return new TextEncoder().encode(e)}else{if(e instanceof Uint8Array)return e;if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(typeof Blob<"u"&&e instanceof Blob)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(Array.isArray(e)){if(e.length>0&&(!Number.isInteger(e[0])||e[0]<0||e[0]>255))throw new Error(`Unexpected array values provided as file data: value "${e[0]}" at index 0 is not an octet number. ${this.supportedTypesMsg}`);return new Uint8Array(e)}else{let n=Object.prototype.toString.call(e);throw new Error(`Unexpected type provided as file data: ${n}. ${this.supportedTypesMsg}`)}}}catch(n){throw console.error(n),new Error(`Error processing data: ${n}`)}}detectContentType(){return this.wasString?"text/plain; charset=utf-8":typeof Blob<"u"&&this.content instanceof Blob&&this.content.type?this.content.type:"application/octet-stream"}detectContentLength(){if(ArrayBuffer.isView(this.content)||this.content instanceof Uint8Array)return this.content.byteLength;if(typeof Blob<"u"&&this.content instanceof Blob)return this.content.size;let e=Object.prototype.toString.call(this.content),t=new Error(`Unexpected type "${e}" while detecting content length`);throw console.error(t),t}async loadContent(){try{if(this.content instanceof Uint8Array)return this.content;if(ArrayBuffer.isView(this.content))return new Uint8Array(this.content.buffer,this.content.byteOffset,this.content.byteLength);if(typeof Blob<"u"&&this.content instanceof Blob){let e=new FileReader;return await new Promise((t,n)=>{e.onerror=r=>{n(r)},e.onload=()=>{let r=e.result;t(new Uint8Array(r))},e.readAsArrayBuffer(this.content)})}else{let e=Object.prototype.toString.call(this.content);throw new Error(`Unexpected type ${e}`)}}catch(e){console.error(e);let t=new Error(`Error loading content: ${e}`);throw console.error(t),t}}load(){return this.loadedData===void 0&&(this.loadedData=this.loadContent()),this.loadedData}},xi=ki;au(xi,"supportedTypesMsg","Supported types are: `string` (to be UTF8 encoded), `Uint8Array`, `Blob`, `File`, `ArrayBuffer`, `UInt8Array` or any other typed array buffer. ");async function vu(e,t,n){let{privateKey:r}=n,{encrypt:s,sign:i,gaiaHubConfig:o,cipherTextEncoding:a}=n,{contentType:c=""}=n,l=vi(o.max_file_upload_size_megabytes),u=l>0,f=new xi(t,c);if(c=f.contentType,!s&&u&&f.contentByteLength>l){let d=`The max file upload size for this hub is ${l} bytes, the given content is ${f.contentByteLength} bytes`,w=new sr(d,null,l);throw console.error(w),w}if(s&&u&&a){let d=nc({contentLength:f.contentByteLength,wasString:f.wasString,sign:!!i,cipherTextEncoding:a});if(d>l){let w=`The max file upload size for this hub is ${l} bytes, the given content is ${d} bytes after encryption`,g=new sr(w,null,l);throw console.error(g),g}}let h;if(!s&&i){let d=await f.load();if(typeof i=="string")r=i;else if(!r)throw Error("Need to pass private key");let w=await tr({contents:d,privateKey:r});h=async g=>(await Promise.all([Kn({filename:e,contents:d,hubConfig:g,contentType:c}),Kn({filename:`${e}${wt}`,contents:JSON.stringify(w),hubConfig:g,contentType:"application/json"})]))[0].publicURL}else{let d;if(!s&&!i)d=f.content;else{let w;if(typeof s=="string")w=s;else if(typeof i=="string")w=Z(Pe(i,!0));else if(r)w=Z(Pe(r,!0));else throw new Error("No private key passed");let g=await f.load(),S=await si(g,{publicKey:w,wasString:f.wasString,cipherTextEncoding:a,privateKey:r});if(d=JSON.stringify(S),r){let{signature:A,publicKey:m}=await tr({contents:S,privateKey:r});d=JSON.stringify({signature:A,publicKey:m,cipherText:S})}c="application/json"}h=async w=>(await Kn({filename:e,contents:d,hubConfig:w,contentType:c})).publicURL}try{return await h(o)}catch(d){if(bu(d))return console.error(d),console.error("Possible recoverable error during Gaia upload, retrying..."),await h(o);throw d}}function Su(e){if(!e.hasOwnProperty("uri")||!Array.isArray(e.uri)||e.uri.length<1)return null;let t=e.uri[0];if(!t.hasOwnProperty("target"))return null;let n=t.target;return n.startsWith("https")||n.startsWith("http")||(n=`https://${n}`),n}function Ln(e,t){let n;return t.proof&&t.proof.url&&(n=t.proof.url),{"@type":"Account",service:e,identifier:t.username,proofType:"http",proofUrl:n}}function Eu(e){let t={"@type":"Person"};if(e){e.name&&e.name.formatted&&(t.name=e.name.formatted),e.bio&&(t.description=e.bio),e.location&&e.location.formatted&&(t.address={"@type":"PostalAddress",addressLocality:e.location.formatted});let n=[];e.avatar&&e.avatar.url&&n.push({"@type":"ImageObject",name:"avatar",contentUrl:e.avatar.url}),e.cover&&e.cover.url&&n.push({"@type":"ImageObject",name:"cover",contentUrl:e.cover.url}),n.length&&(t.image=n),e.website&&(t.website=[{"@type":"WebSite",url:e.website}]);let r=[];e.bitcoin&&e.bitcoin.address&&r.push({"@type":"Account",role:"payment",service:"bitcoin",identifier:e.bitcoin.address}),e.twitter&&e.twitter.username&&r.push(Ln("twitter",e.twitter)),e.facebook&&e.facebook.username&&r.push(Ln("facebook",e.facebook)),e.github&&e.github.username&&r.push(Ln("github",e.github)),e.auth&&e.auth.length>0&&e.auth[0]&&e.auth[0].publicKeychain&&r.push({"@type":"Account",role:"key",service:"bip32",identifier:e.auth[0].publicKeychain}),e.pgp&&e.pgp.url&&r.push({"@type":"Account",role:"key",service:"pgp",identifier:e.pgp.fingerprint,contentUrl:e.pgp.url}),t.account=r}return t}function _u(e,t){let n=Hr(e);if(!n)throw Error("no decoded token");let r=n.payload;if(typeof r=="string")throw new Error("Unexpected token payload type of string");if(r.hasOwnProperty("subject")&&r.subject){if(!r.subject.hasOwnProperty("publicKey"))throw new Error("Token doesn't have a subject public key")}else throw new Error("Token doesn't have a subject");if(r.hasOwnProperty("issuer")&&r.issuer){if(!r.issuer.hasOwnProperty("publicKey"))throw new Error("Token doesn't have an issuer public key")}else throw new Error("Token doesn't have an issuer");if(!r.hasOwnProperty("claim"))throw new Error("Token doesn't have a claim");let s=r.issuer.publicKey,i=Ur(s);if(t!==s&&t!==i)throw new Error("Token issuer public key does not match the verifying value");let o=new Sc(n.header.alg,s);if(!o)throw new Error("Invalid token verifier");if(!o.verify(e))throw new Error("Token verification failed");return n}function ku(e,t){let n=t?_u(e,t):Hr(e);if(n&&n.hasOwnProperty("payload")){let r=n.payload;if(typeof r=="string")throw new Error("[micro-stacks] extractProfile: Unexpected token payload type of string");if(r.hasOwnProperty("claim"))return r.claim}return{}}async function xu(e,t){let n=jl(e);if(n.hasOwnProperty("$origin")||(n=null),!(n&&Object.keys(n).length>0))return Eu(JSON.parse(e));let r=Su(n);if(r)try{let s=await(await pt(r)).json();return ku(s[0].token,t)}catch(s){throw console.error(`[micro-stacks] resolveZoneFileToProfile: error fetching token file ${r}: ${s}`),s}return console.debug("[micro-stacks] Token file url not found. Resolving to blank profile."),{}}async function Au(e){let{username:t,zoneFileLookupURL:n=_i}=e;if(!t)return Promise.reject();let r=`${n.replace(/\/$/,"")}/${e.username}`,s=await(await pt(r)).json();if(s.hasOwnProperty("zonefile")&&s.hasOwnProperty("address"))return await xu(s.zonefile,e.verify?s.address:void 0);throw new Error("Invalid zonefile lookup response: did not contain `address` or `zonefile` field")}async function Ai(e,t,n,r){let s=await Au({username:t,zoneFileLookupURL:r}),i;if(s)return s.hasOwnProperty("apps")?s.apps.hasOwnProperty(n)&&(i=`${s.apps[n].replace(/\/?(\?|#|$)/,"/$1")}${e}`):s.hasOwnProperty("appsMeta")&&s.appsMeta.hasOwnProperty(n)&&(i=`${s.appsMeta[n].replace(/\/?(\?|#|$)/,"/$1")}${e}`),i}async function Tu(e,t){let n;if(t.username?n=await Ai(e,t.username,t.app,t.zoneFileLookupURL):n=await Ei(e,t.gaiaHubConfig),n)return n;throw new Error("Missing readURL")}async function Ti(e){let{app:t,username:n,zoneFileLookupURL:r,gaiaHubConfig:s}=e,i;n?i=await Ai("/",n,t,r):s&&(i=await Ei("/",s));let o=/([13][a-km-zA-HJ-NP-Z0-9]{26,35})/.exec(i);if(!o)throw new Error("Failed to parse gaia address");return o[o.length-1]}async function ir(e){let{path:t,forceText:n,app:r,username:s,zoneFileLookupURL:i,gaiaHubConfig:o}=e,a=await Tu(t,{app:r,username:s,zoneFileLookupURL:i,gaiaHubConfig:o}),c=await pt(a);if(!c.ok)throw await Si(c,`getFile ${t} failed.`,null);let l=c.headers.get("Content-Type");if(typeof l=="string"&&(l=l.toLowerCase()),n||l===null||l.startsWith("text")||l.startsWith("application/json"))return c.text();{let u=await c.arrayBuffer();return xr(u)}}async function Iu(e,t){let{app:n,username:r,zoneFileLookupURL:s,gaiaHubConfig:i}=t,o=`${e}${wt}`;try{let[a,c,l]=await Promise.all([ir({path:e,app:n,username:r,zoneFileLookupURL:s,forceText:!1,gaiaHubConfig:i}),ir({path:o,app:n,username:r,zoneFileLookupURL:s,forceText:!0,gaiaHubConfig:i}),Ti({app:n,username:r,zoneFileLookupURL:s,gaiaHubConfig:i})]);if(!a)return a;if(!l)throw new De(`Failed to get gaia address for verification of: ${e}`);if(!c||typeof c!="string")throw new De(`Failed to obtain signature for file: ${e} -- looked in ${e}${wt}`);let u,f;try{let g=JSON.parse(c);u=g.signature,f=g.publicKey}catch(g){throw g instanceof SyntaxError?new Error(`Failed to parse signature content JSON (path: ${e}${wt}) The content may be corrupted.`):g}let h=er(f),d=typeof a=="string"?Se(a):a,w=ni({signature:u,contents:d,publicKey:f});if(l!==h)throw new De(`Signer pubkey address (${h}) doesn't match gaia address (${l})`);if(w)return a;throw new De(`Contents do not match ECDSA signature: path: ${e}, signature: ${e}${wt}`)}catch(a){throw a instanceof bi&&a.message.indexOf(o)>=0?new De(`Failed to obtain signature for file: ${e} -- looked in ${e}${wt}`):a}}async function Cu(e){let{path:t,storedContents:n,app:r,privateKey:s,username:i,zoneFileLookupURL:o,gaiaHubConfig:a}=e,c=s,l=c?Pe(c,!0):null,u=null;if(i||a?u=await Ti({app:r,username:i,zoneFileLookupURL:o,gaiaHubConfig:a}):l&&(u=er(l)),!u)throw new De(`Failed to get gaia address for verification of: ${t}`);let f;try{f=JSON.parse(n)}catch(S){throw S instanceof SyntaxError?new Error("Failed to parse encrypted, signed content JSON. The content may not be encrypted. If using getFile, try passing { verify: false, decrypt: false }."):S}let h=f.signature,d=f.publicKey,w=f.cipherText,g=er(d);if(!d||!w||!h)throw new De(`Failed to get signature verification data from file: ${t}`);if(g!==u)throw new De(`Signer pubkey address (${g}) doesn't match gaia address (${u})`);if(!ni({signature:h,contents:w,publicKey:d}))throw new De(`Contents do not match ECDSA signature in file: ${t}`);if(!s)throw Error("Private key needs to be passed in order to decrypt content");return Rr(w,{privateKey:s})}async function $u(e,t){let n={decrypt:!0,verify:!1,app:it("location",{returnEmptyObject:!0}).origin,zoneFileLookupURL:_i,...t};if(n.verify&&!n.decrypt)return Iu(e,n);let r=await ir({path:e,app:n.app,username:n.username,zoneFileLookupURL:n.zoneFileLookupURL,forceText:!!n.decrypt,gaiaHubConfig:n.gaiaHubConfig});if(r===null)return r;if(typeof r!="string")throw new Error("[micro-stacks/storage] Expected to get back a string for the cipherText");let s=!!n.verify,i=!!n.decrypt,o=typeof n.decrypt=="string"?n.decrypt:n.privateKey;if(r.includes("signature")&&r.includes("publicKey")&&(s=!0),r.includes("cipherText")&&r.includes("ephemeralPK")&&(i=!0),!s&&!i)return r;let a=!r.includes("cipherText");if(i&&a)throw new Error(`[micro-stacks/storage] Expected to get back a string that includes cipherText, is it encrypted? got back: ${JSON.stringify(r)}`);if(!o)throw new Error("[micro-stacks/storage] No private key was passed to getFile, a private key needs to be passed if decrypt is set to true");if(!s)return Rr(r,{privateKey:o});if(i&&s)return Cu({path:e,storedContents:r,app:n.app,privateKey:o,username:n.username,zoneFileLookupURL:n.zoneFileLookupURL,gaiaHubConfig:n.gaiaHubConfig});throw new Error("[micro-stacks/storage] Should be unreachable.")}function Ou(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tt=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;for(s of t.entries())if(!e(s[1],n.get(s[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},Bu="micro-stacks",Ii={getItem:e=>null,setItem:(e,t)=>{},removeItem:e=>{}},Ci=Nu({storage:typeof window<"u"?window.localStorage:Ii,serialize:JSON.stringify,deserialize:JSON.parse});function Nu({storage:e,key:t=Bu,serialize:n,deserialize:r}){return{...e,getItem:(s,i=null)=>{let o=`${t}.${s.replace(`${t}.`,"")}`,a=e.getItem(o);if(!r)return a!=null?a:i;try{return a?r(a):i}catch(c){return console.warn(c),i}},setItem:(s,i)=>{let o=`${t}.${s.replace(`${t}.`,"")}`;if(i===null)e.removeItem(o);else try{let a=n?n(i):i;e.setItem(o,a)}catch(a){console.error(a)}},removeItem:s=>e.removeItem(`${t}.${s}`)}}function $i(e){return`[@micro-stacks/client] ${e}`}function fe(e,t){Vl(e,$i(t))}var Oi=(e=>(e.ContractCall="contract_call",e.TokenTransfer="token_transfer",e.ContractDeploy="contract_deploy",e))(Oi||{}),Lr=(e=>(e.Authentication="status/Authentication",e.TransactionSigning="status/TransactionSigning",e.MessageSigning="status/MessageSigning",e.StructuredMessageSigning="status/StructuredMessageSigning",e))(Lr||{}),Vr=(e=>(e.IsLoading="status/IsLoading",e.IsIdle="status/IsIdle",e))(Vr||{}),vs="store",Bi=typeof document>"u",Pu=function(e){var t=e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return t};function or(e){if(!!e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var t=[],n="",r="",s="",i="",o="",a="";if(t=Pu(e),n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],!!(n&&n.length&&s.length>=0)){if(r&&r.length){if(!(s.length===0||/^\//.test(s)))return}else if(/^\/\//.test(s))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(n.toLowerCase()))return a+=n+":",r&&r.length&&(a+="//"+r),a+=s,i&&i.length&&(a+="?"+i),o&&o.length&&(a+="#"+o),a}}}var Uu="(?<domain>([^?#]*)) wants you to sign in with your Stacks account:",Ru="\\n(?<address>S[A-Z0-9]{40})\\n\\n",Du="((?<statement>[^\\n]+)\\n)?",Ni="(([^:?#]+):)?(([^?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?",Hu=`\\nURI: (?<uri>${Ni}?)`,Fu="\\nVersion: (?<version>1)",Mu="\\nChain ID: (?<chainId>[0-9]+)",Ku="\\nNonce: (?<nonce>[a-zA-Z0-9]{8,})",jr="([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))",Lu=`\\nIssued At: (?<issuedAt>${jr})`,Vu=`(\\nExpiration Time: (?<expirationTime>${jr}))?`,ju=`(\\nNot Before: (?<notBefore>${jr}))?`,zu="(\\nRequest ID: (?<requestId>[-._~!$&'()*+,;=:@%a-zA-Z0-9]*))?",Wu=`(\\nResources:(?<resources>(\\n- ${Ni}?)+))?`,qu=`^${Uu}${Ru}${Du}${Hu}${Fu}${Mu}${Ku}${Lu}${Vu}${ju}${zu}${Wu}$`,Yu=class{constructor(e){v(this,"domain");v(this,"address");v(this,"statement");v(this,"uri");v(this,"version");v(this,"chainId");v(this,"nonce");v(this,"issuedAt");v(this,"expirationTime");v(this,"notBefore");v(this,"requestId");v(this,"resources");v(this,"match");var t,n,r,s,i,o,a,c,l,u,f,h,d,w;let g=new RegExp(qu,"g").exec(e);if(!g)throw new Error("Message did not match the regular expression.");if(this.match=g,this.domain=(t=g==null?void 0:g.groups)==null?void 0:t.domain,this.domain.length===0||!/[^#?]*/.test(this.domain))throw new Error("Domain cannot be empty.");if(this.address=(n=g==null?void 0:g.groups)==null?void 0:n.address,!ei(this.address))throw new Error("Invalid address.");if(this.statement=(r=g==null?void 0:g.groups)==null?void 0:r.statement,this.uri=(s=g==null?void 0:g.groups)==null?void 0:s.uri,!or(this.uri))throw new Error("Invalid URI.");this.version=(i=g==null?void 0:g.groups)==null?void 0:i.version,this.nonce=(o=g==null?void 0:g.groups)==null?void 0:o.nonce,this.chainId=parseInt((a=g==null?void 0:g.groups)==null?void 0:a.chainId),this.issuedAt=(c=g==null?void 0:g.groups)==null?void 0:c.issuedAt,this.expirationTime=(l=g==null?void 0:g.groups)==null?void 0:l.expirationTime,this.notBefore=(u=g==null?void 0:g.groups)==null?void 0:u.notBefore,this.requestId=(f=g==null?void 0:g.groups)==null?void 0:f.requestId,this.resources=(d=(h=g==null?void 0:g.groups)==null?void 0:h.resources)==null?void 0:d.split(`
- `).slice(1),((w=this.resources)==null?void 0:w.length)>0&&this.resources.forEach(S=>{if(!or(S))throw new Error(`${S} is not a valid resource.`)})}},Ju=["signature","domain","nonce","time"],xe=class{constructor(e,t,n){v(this,"type");v(this,"expected");v(this,"received");this.type=e,this.expected=t,this.received=n}},Gu=class{constructor(e){v(this,"domain");v(this,"address");v(this,"statement");v(this,"uri");v(this,"version");v(this,"chainId");v(this,"nonce");v(this,"issuedAt");v(this,"expirationTime");v(this,"notBefore");v(this,"requestId");v(this,"resources");typeof e=="string"&&(e=new Yu(e)),this.domain=e.domain,this.address=e.address,this.statement=e.statement,this.uri=e.uri,this.version=e.version,this.nonce=e.nonce,this.issuedAt=e.issuedAt,this.expirationTime=e.expirationTime,this.notBefore=e.notBefore,this.requestId=e.requestId,this.chainId=e.chainId,this.resources=e.resources,typeof this.chainId=="string"&&(this.chainId=parseInt(this.chainId)),this.validateMessage()}toMessage(){this.validateMessage();let e=`${this.domain} wants you to sign in with your Stacks account:`,t=`URI: ${this.uri}`,n=[e,this.address].join(`
`),r=`Version: ${this.version}`,s="Chain ID: "+this.chainId||"1",i=`Nonce: ${this.nonce}`,o=[t,r,s,i];if(this.issuedAt&&Date.parse(this.issuedAt),this.issuedAt=this.issuedAt?this.issuedAt:new Date().toISOString(),o.push(`Issued At: ${this.issuedAt}`),this.expirationTime){let c=`Expiration Time: ${this.expirationTime}`;o.push(c)}this.notBefore&&o.push(`Not Before: ${this.notBefore}`),this.requestId&&o.push(`Request ID: ${this.requestId}`),this.resources&&o.push(["Resources:",...this.resources.map(c=>`- ${c}`)].join(`
`));let a=o.join(`
`);return n=[n,this.statement].join(`

`),this.statement&&(n+=`
`),[n,a].join(`
`)}prepareMessage(){let e;switch(this.version){case"1":{e=this.toMessage();break}default:{e=this.toMessage();break}}return e}async verify(e){return new Promise(async(t,n)=>{Object.keys(e).forEach(f=>{Ju.includes(f)||n({success:!1,data:this,error:new Error(`${f} is not a valid key for VerifyParams.`)})});let r=f=>{n(f)},{signature:s,domain:i,nonce:o,time:a}=e;i&&i!==this.domain&&r({success:!1,data:this,error:new xe("Domain do not match provided domain for verification.",i,this.domain)}),o&&o!==this.nonce&&r({success:!1,data:this,error:new xe("Nonce do not match provided nonce for verification.",o,this.nonce)});let c=new Date(a||new Date);if(this.expirationTime){let f=new Date(this.expirationTime);c.getTime()>=f.getTime()&&r({success:!1,data:this,error:new xe("Expired message.",`${c.toISOString()} < ${f.toISOString()}`,`${c.toISOString()} >= ${f.toISOString()}`)})}if(this.notBefore){let f=new Date(this.notBefore);c.getTime()<f.getTime()&&r({success:!1,data:this,error:new xe("Message is not valid yet.",`${c.toISOString()} >= ${f.toISOString()}`,`${c.toISOString()} < ${f.toISOString()}`)})}let l;try{l=this.prepareMessage()}catch(f){r({success:!1,data:this,error:f});return}let u;try{let f=gi(l),h=mi({signature:s}),d=yi({hash:f,signature:h.signature,recoveryBytes:h.recoveryBytes});Rl({signature:s,message:f})&&(u=Ur(d,xt(this.address)[0]))}catch{}finally{u!==this.address&&r({success:!1,data:this,error:new xe("Signature do not match address of the message.",u,`Resolved address to be ${this.address}`)})}t({success:!0,data:this})})}validateMessage(...e){var t;if(e.length>0)throw new xe("Unable to parse the message.","Unexpected argument in the validateMessage function.");if(!this.domain||this.domain.length===0||!/[^#?]*/.test(this.domain))throw new xe("Invalid domain.",`${this.domain} to be a valid domain.`);if(!ei(this.address))throw new xe("Invalid address.",`${this.address} to be a valid address.`);if(!or(this.uri))throw new xe("URI does not conform to RFC 3986.",`${this.uri} to be a valid uri.`);if(this.version!=="1")throw new xe("Invalid message version.","1",this.version);let n=(t=this==null?void 0:this.nonce)==null?void 0:t.match(/[a-zA-Z0-9]{8,}/);if(!n||this.nonce.length<8||n[0]!==this.nonce)throw new xe("Nonce size smaller then 8 characters or is not alphanumeric.",`Length > 8 (${n==null?void 0:n.length}). Alphanumeric.`,this.nonce);let r=/([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(([Zz])|([+|\-]([01][0-9]|2[0-3]):[0-5][0-9]))/;if(this.issuedAt&&!r.test(this.issuedAt))throw new Error("Invalid time format.");if(this.expirationTime&&!r.test(this.expirationTime))throw new Error("Invalid time format.");if(this.notBefore&&!r.test(this.notBefore))throw new Error("Invalid time format.")}},Ut=1;function Ss({state:e,version:t}){var n,r,s;return JSON.stringify([[(n=e.network)==null?void 0:n.chainId,(s=(r=e.network)==null?void 0:r.getCoreApiUrl)==null?void 0:s.call(r)],[e.currentAccountIndex,e.accounts.map(i=>({appPrivateKey:i.appPrivateKey,address:pn(i.address[0],de(i.address[1])),profile_url:i.profile_url}))],t])}function Zu(e){var a;let t=JSON.parse(e),[n,r]=t[0],[s,i]=t[1],o=(a=t[2])!=null?a:Ut;return{network:n===et.Mainnet?new at({url:r}):new Tn({url:r}),currentAccountIndex:s,accounts:i.map(c=>{let[l,u]=xt(c.address);return{appPrivateKey:c.appPrivateKey,address:[l,Z(u)],profile_url:c.profile_url}}),version:o}}var Pi=e=>{if(e){if(typeof e!="string")return e;if(e==="testnet")return new Tn}return new at},ar=({network:e=new at,...t})=>({statuses:{["status/Authentication"]:"status/IsIdle",["status/TransactionSigning"]:"status/IsIdle",["status/MessageSigning"]:"status/IsIdle",["status/StructuredMessageSigning"]:"status/IsIdle"},network:Pi(e),appName:t.appName,appIconUrl:t.appIconUrl,accounts:[],currentAccountIndex:0,onPersistState:t.onPersistState,onAuthentication:t.onAuthentication,onNoWalletFound:t.onNoWalletFound,onSignOut:t.onSignOut}),Vn=(e,t)=>{try{let{version:n,...r}=Zu(e);return{state:{...ar(t),...r},version:n}}catch{return{state:ar(t),version:Ut}}},Qu=()=>{if(!it("localStorage",{throwIfUnavailable:!1}))return;let e=localStorage.getItem("MICRO_STACKS_DEBUG");if(e)return JSON.parse(e)},Xu=class{constructor(e={}){v(this,"config");v(this,"storage");v(this,"store");v(this,"debug");v(this,"fetcher");v(this,"getState",()=>this.store.getState());v(this,"onStorageUpdate",e=>{if(typeof document<"u"){let t=window.location.host,n=new URL(e.url).host,r=t===n,s=e.key==="micro-stacks.store";if(r&&s){let i=e.newValue;this.hydrate(JSON.parse(i))}}});v(this,"tabSyncSubscription",e=>{let t=typeof document<"u";return t&&e&&window.addEventListener("storage",this.onStorageUpdate),()=>{t&&e&&window.removeEventListener("storage",this.onStorageUpdate)}});v(this,"onPersistState",e=>{var t,n;return(n=(t=this.store.getState())==null?void 0:t.onPersistState)==null?void 0:n.call(t,e)});v(this,"setOnPersistState",e=>{this.setState(t=>({...t,onPersistState:e})),this.config.onPersistState=e});v(this,"setOnNoWalletFound",e=>{this.setState(t=>({...t,onNoWalletFound:e})),this.config.onPersistState=e});v(this,"setOnSignOut",e=>{this.setState(t=>({...t,onSignOut:e})),this.config.onSignOut=e});v(this,"setOnAuthentication",e=>{this.setState(t=>({...t,onAuthentication:e})),this.config.onAuthentication=e});v(this,"persist",async()=>{if(this.onPersistState){let e=this.dehydrate(this.store.getState());await this.onPersistState(e)}});v(this,"selectHasSession",e=>Boolean(e.accounts.length));v(this,"selectAccounts",e=>e.accounts);v(this,"selectAccount",e=>this.selectHasSession(e)?e.accounts[e.currentAccountIndex]:void 0);v(this,"selectNetwork",e=>this.config.enableNetworkSwitching?e.network:Pi(this.config.network));v(this,"selectNetworkChain",e=>this.selectNetwork(e).chainId===et.Mainnet?"mainnet":"testnet");v(this,"selectTestnetStxAddress",e=>{let t=this.selectAccount(e);return t?pn(t.address[0]===cn.mainnetP2SH?cn.testnetP2SH:cn.testnetP2PKH,de(t.address[1])):void 0});v(this,"selectMainnetStxAddress",e=>{let t=this.selectAccount(e);return t?pn(t.address[0],de(t.address[1])):void 0});v(this,"selectStxAddress",e=>this.selectNetworkChain(e)==="mainnet"?this.selectMainnetStxAddress(e):this.selectTestnetStxAddress(e));v(this,"selectAppDetails",e=>e.appName&&e.appIconUrl?{name:e.appName,icon:e.appIconUrl}:void 0);v(this,"selectIdentityAddress",e=>{let t=this.selectAccount(e);return t!=null&&t.appPrivateKey?ti(t.appPrivateKey):void 0});v(this,"selectDecentralizedID",e=>{let t=this.selectIdentityAddress(e);return t?`did:btc-addr:${t}`:void 0});v(this,"selectStatuses",e=>e.statuses);v(this,"statuses",()=>this.selectStatuses(this.getState()));v(this,"isSignMessageRequestPending",()=>this.statuses()["status/MessageSigning"]);v(this,"isSignStructuredMessageRequestPending",()=>this.statuses()["status/StructuredMessageSigning"]);v(this,"authenticate",async e=>{if(!this.handleNoStacksProviderFound())return;let t=this.selectAppDetails(this.getState());fe(t,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config.");let n=this.selectAccounts(this.getState());this.setIsRequestPending("status/Authentication"),await yl({appDetails:t,onFinish:async({profile:r,...s})=>{var i,o;let[a,c]=xt(s.addresses.mainnet),l=[a,Z(c)];n.find(u=>u.address===l)?this.setState(u=>({...u,currentAccountIndex:n.findIndex(f=>f.address===l)})):this.setState(u=>{var f;return{...u,accounts:u.accounts.concat({address:l,appPrivateKey:(f=this.debug)!=null&&f.disableAppPrivateKey?void 0:s.appPrivateKey,decentralizedID:s.decentralizedID,profile_url:s.profile_url}),currentAccountIndex:u.accounts.length}}),(i=e==null?void 0:e.onFinish)==null||i.call(e,s),(o=this.onAuthentication)==null||o.call(this,{profile:r,...s}),await this.persist(),this.setIsIdle("status/Authentication")},onCancel:r=>{var s;this.setIsIdle("status/Authentication"),(s=e==null?void 0:e.onCancel)==null||s.call(e,r)}},Ii)});v(this,"signOut",async e=>{var t,n,r,s;return(r=(n=(t=this.store)==null?void 0:t.persist)==null?void 0:n.clearStorage)==null||r.call(n),(s=this.onSignOut)==null||s.call(this),this.resetState(),e==null?void 0:e()});v(this,"getSignInMessage",({domain:e,nonce:t,version:n="1.0.0"})=>{if(!this.handleNoStacksProviderFound())return;let r=this.getState(),s=this.selectAppDetails(r),i=this.selectStxAddress(r);fe(s,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),fe(i,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in.");let o=it("document",{throwIfUnavailable:!1})?window.location.origin:"";return new Gu({domain:s.name,address:i,statement:"Sign in with Stacks",uri:e!=null?e:o,version:n,chainId:et.Mainnet,nonce:t})});v(this,"signTransaction",async(e,t)=>{if(!this.handleNoStacksProviderFound())return;let n=this.getState(),r=this.selectAppDetails(n),s=this.selectStxAddress(n),i=this.selectAccount(n),o=this.selectNetwork(n);fe(r,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),fe(s,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in."),fe(i,"There is not current user session available. Please make sure the user has signed in before attempting this action."),this.setIsRequestPending("status/TransactionSigning");let a,c={privateKey:i.appPrivateKey,appDetails:r,stxAddress:s,network:o,postConditionMode:t.postConditionMode,postConditions:t.postConditions,attachment:t.attachment,sponsored:t.sponsored},l=await(e==="token_transfer"?dl:e==="contract_call"?ul:fl)({...c,...t});return fe(l,"Transaction JWT could not be created"),await Sl({token:l,onFinish:u=>{var f;a=u,(f=t==null?void 0:t.onFinish)==null||f.call(t,u),this.setIsIdle("status/TransactionSigning")},onCancel:u=>{var f;(f=t==null?void 0:t.onCancel)==null||f.call(t,u),this.setIsIdle("status/TransactionSigning")}}),a});v(this,"signMessage",async e=>{if(!this.handleNoStacksProviderFound())return;let t=this.getState(),n=this.selectAppDetails(t),r=this.selectStxAddress(t),s=this.selectAccount(t),i=this.selectNetwork(t);fe(n,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),fe(r,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in."),fe(s,"There is not current user session available. Please make sure the user has signed in before attempting this action."),fe(e.message,"No message found -- a message is required when requesting a message signature."),this.setIsRequestPending("status/MessageSigning");let o;return await Al({appDetails:n,privateKey:s.appPrivateKey,stxAddress:r,network:i,message:e.message,onFinish:a=>{var c;o=a,(c=e==null?void 0:e.onFinish)==null||c.call(e,a),this.setIsIdle("status/MessageSigning")},onCancel:a=>{var c;(c=e==null?void 0:e.onCancel)==null||c.call(e,a),this.setIsIdle("status/MessageSigning")}}),o});v(this,"signStructuredMessage",async e=>{var u,f,h;var t,n,r;if(!this.handleNoStacksProviderFound())return;let s=this.getState(),i=this.selectAppDetails(s),o=this.selectStxAddress(s),a=this.selectAccount(s),c=this.selectNetwork(s);fe(i,"App details are not defined for you app. Most functionality (authentication, signing requests) require details be passed to the wallet. Add them to your MicroStacksClient config."),fe(o,"No current Stacks address can be found. This could be because a session has been invalidated, or the user is not signed in."),fe(a,"There is not current user session available. Please make sure the user has signed in before attempting this action."),fe(e.message,"No message found -- a message is required when requesting a message signature."),this.setIsRequestPending("status/StructuredMessageSigning");let l;return await Cl({appDetails:i,privateKey:a.appPrivateKey,stxAddress:o,network:c,domain:{name:(u=(t=e.domain)==null?void 0:t.name)!=null?u:i.name,version:(f=(n=e.domain)==null?void 0:n.version)!=null?f:"1.0.0",chainId:(h=(r=e.domain)==null?void 0:r.chainId)!=null?h:c.chainId},message:e.message,onFinish:d=>{var w;l=d,(w=e==null?void 0:e.onFinish)==null||w.call(e,d),this.setIsIdle("status/StructuredMessageSigning")},onCancel:d=>{var w;(w=e==null?void 0:e.onCancel)==null||w.call(e,d),this.setIsIdle("status/StructuredMessageSigning")}}),l});v(this,"setNetwork",e=>{if(!this.config.enableNetworkSwitching)throw new Error($i("Network switching is currently disabled. Set `enableNetworkSwitching` to `true` to enable."));typeof e=="string"?this.setState(t=>({...t,network:e==="mainnet"?new at:new Tn})):this.setState(t=>({...t,network:e})),this.persist()});v(this,"putFile",(e,t,{encrypt:n=!0,sign:r})=>{let s=this.selectHasSession(this.getState()),i=this.selectGaiaHubConfig(this.getState()),o=this.selectAccount(this.getState());if(!s){console.warn("There is not current user session available. Please make sure the user has signed in before attempting this action.");return}if(!(o!=null&&o.appPrivateKey)||!i){console.warn("The current user session has no `appPrivateKey` defined. Certain actions require an `appPrivateKey`, such as using gaia or encryption.");return}return vu(e,t,{privateKey:o.appPrivateKey,gaiaHubConfig:i,encrypt:n,sign:r,wasString:typeof t=="string"})});v(this,"getFile",(e,{decrypt:t=!0,verify:n})=>{let r=this.selectHasSession(this.getState()),s=this.selectGaiaHubConfig(this.getState()),i=this.selectAccount(this.getState());if(!r){console.warn("There is not current user session available. Please make sure the user has signed in before attempting this action.");return}if(!(i!=null&&i.appPrivateKey)||!s){console.warn("The current user session has no `appPrivateKey` defined. Certain actions require an `appPrivateKey`, such as using gaia or encryption.");return}return $u(e,{privateKey:i.appPrivateKey,gaiaHubConfig:s,decrypt:t,verify:n})});var s,i;let t={storage:(s=e==null?void 0:e.storage)!=null?s:Ci,network:(i=e==null?void 0:e.network)!=null?i:new at,...e},n=typeof t.dehydratedState=="function"?t.dehydratedState(this.storeKey):t.dehydratedState,r=n?Vn(n,t):{state:ar(t),version:Ut};this.store=Dl(Fl(Kl(()=>r.state,{name:vs,getStorage:()=>t.storage,version:r.version,serialize:({state:o,version:a})=>Ss({state:o,version:a!=null?a:Ut}),deserialize:o=>Vn(o,t)}))),this.debug=Qu(),this.config=t,this.storage=t.storage,this.fetcher=t.fetcher||pt}setState(e){let t=typeof e=="function"?e(this.store.getState()):e;this.store.setState(t,!0)}resetState(){this.setState(e=>({...e,accounts:[],currentAccountIndex:0}))}get subscribe(){return this.store.subscribe}getStacksProvider(){return it("StacksProvider",{throwIfUnavailable:!1})}subscribeToStacksProvider(e,t=100){if(this.getStacksProvider())return e(),()=>{};{let n=setInterval(()=>{this.getStacksProvider()&&(e(),clearInterval(n))},t);return()=>{typeof n<"u"&&clearInterval(n)}}}get storeKey(){return vs}get onAuthentication(){var e;return(e=this.store.getState())==null?void 0:e.onAuthentication}get onNoWalletFound(){var e;return(e=this.store.getState())==null?void 0:e.onNoWalletFound}get onSignOut(){var e;return(e=this.store.getState())==null?void 0:e.onSignOut}dehydrate(e){return Ss({state:e!=null?e:this.store.getState(),version:Ut})}hydrate(e){let t=Vn(e,this.config);this.setState(t.state)}setStatus(e,t){this.setState(n=>({...n,statuses:{...n.statuses,[e]:t}}))}setIsRequestPending(e){this.setStatus(e,"status/IsLoading")}setIsIdle(e){this.setStatus(e,"status/IsIdle")}handleNoStacksProviderFound(){return typeof this.getStacksProvider()>"u"?typeof this.onNoWalletFound<"u"?(this.onNoWalletFound(),!1):(fe(this.getStacksProvider(),"The injected `StacksProvider` cannot be found. This is typically because there is no Stacks wallet available, such as the Hiro web wallet extension or the iOS/Android wallet Xverse."),!1):!0}selectGaiaHubConfig(e){let t=this.selectHasSession(e),n=this.selectAccount(e);if(!(!t||!(n!=null&&n.appPrivateKey)))return du({gaiaHubUrl:"https://hub.blockstack.org",privateKey:n.appPrivateKey})}async fetchBNSName(){var e;let t=this.selectStxAddress(this.getState()),n=this.selectNetwork(this.getState());if(!t){console.warn("No Stacks address found while trying to fetch BNS name");return}let r=n.getCoreApiUrl()+`/v1/addresses/stacks/${t}`;try{let s=await(await this.fetcher(r)).json();return(e=s==null?void 0:s.names)==null?void 0:e[0]}catch(s){console.log("[@micro-stacks/client] fetchBNSName failed",s)}}async fetchZoneFile(){try{let e=this.selectStxAddress(this.getState()),t=this.selectNetwork(this.getState());if(!e){console.warn("No Stacks address found while trying to fetch zonefile name");return}let n=t.getCoreApiUrl()+`/v1/names/${e}/zonefile`;return await(await this.fetcher(n)).json()}catch(e){console.log("[@micro-stacks/client] fetchZoneFile failed",e)}}async fetchProfile(){let e=this.selectAccount(this.getState());if(e!=null&&e.profile_url)try{return await(await this.fetcher(e.profile_url)).json()}catch(t){console.log("[@micro-stacks/client] fetchProfile failed",t)}}encrypt(e,t={}){var r;var n;if((t==null?void 0:t.publicKey)&&(t==null?void 0:t.privateKey))throw Error("Error: do not pass both `publicKey` and `privateKey` to client.encrypt");return si(e,{...t,privateKey:(r=t.privateKey)!=null?r:(n=this.selectAccount(this.getState()))==null?void 0:n.appPrivateKey})}decrypt(e,t){var s;var n;let r=(s=t.privateKey)!=null?s:(n=this.selectAccount(this.getState()))==null?void 0:n.appPrivateKey;if(!r)throw Error("You must pass a `privateKey` value to client.decrypt");return Rr(e,{privateKey:r})}},Rt;function cr(e){var n;let t=(n=e==null?void 0:e.client)!=null?n:new Xu(e==null?void 0:e.config);return Bi?t:(Rt=t,Rt)}function It(e){return Bi?cr(e):Rt!=null?Rt:cr(e)}var ef=({client:e,state:t})=>e.selectAccount(t||e.getState()),tf=({client:e,state:t})=>e.selectStxAddress(t||e.getState()),nf=({client:e,state:t})=>e.selectIdentityAddress(t||e.getState()),rf=({client:e,state:t})=>e.selectDecentralizedID(t||e.getState()),sf=({client:e,state:t})=>e.selectNetwork(t||e.getState()),of=({client:e,state:t})=>e.selectStatuses(t||e.getState()),af=(e,t=It())=>t.subscribe(t.selectAccount,e,{equalityFn:Tt}),cf=(e,t=It())=>t.subscribe(t.selectStxAddress,e,{equalityFn:Tt}),lf=(e,t=It())=>t.subscribe(t.selectIdentityAddress,e,{equalityFn:Tt}),uf=(e,t=It())=>t.subscribe(t.selectDecentralizedID,e,{equalityFn:Tt}),ff=(e,t=It())=>t.subscribe(t.selectNetwork,e,{equalityFn:Tt}),df=(e,t=It())=>t.subscribe(t.selectStatuses,e,{equalityFn:Tt}),Ui="micro-stacks-client-context",Vf=({appName:e,appIconUrl:t,storage:n=Ci,network:r,dehydratedState:s,onPersistState:i,onSignOut:o,onAuthentication:a,onNoWalletFound:c,fetcher:l})=>{ho(Ui,cr({config:{appName:e,appIconUrl:t,storage:n,network:r,dehydratedState:s,onPersistState:i,onSignOut:o,onAuthentication:a,onNoWalletFound:c,fetcher:l}}))},hf="No MicroStacksClient set, mount the client in your app by wrapping your app in `ClientProvider` or using `mountClient`",In=()=>{let e=po(Ui);if(!e)throw new Error(hf);return e};function Ct(e,t){return()=>{let n=In();return yo(e({client:n}),r=>t(r,n))}}var pf=Ct(tf,cf),gf=Ct(ef,af),yf=Ct(nf,lf),mf=Ct(sf,ff),Ri=Ct(of,df),wf=Ct(rf,uf);function ct(){return En([gf(),pf(),yf(),wf()],([e,t,n,r])=>{var s,i,o;return{appPrivateKey:(s=e==null?void 0:e.appPrivateKey)!=null?s:null,rawAddress:(i=e==null?void 0:e.address)!=null?i:null,stxAddress:t,identityAddress:n,decentralizedID:r,profileUrl:(o=e==null?void 0:e.profile_url)!=null?o:null}})}function lt(){let e=In();return En([ct(),Ri()],([t,n])=>({openAuthRequest:e.authenticate,signOut:e.signOut,isSignedIn:!!t.stxAddress,isRequestPending:n[Lr.Authentication]===Vr.IsLoading}))}function bf(){let e=In(),t=n=>(n.isMainnet=()=>n.chainId===et.Mainnet,{setNetwork:e.setNetwork,network:n,isMainnet:n.isMainnet()});return En([mf()],([n])=>t(n))}function tt(e){let t=In();return En([Ri()],([n])=>{let r=i=>t.signTransaction(Oi.ContractCall,{...i,onFinish:o=>{var a,c;(a=i==null?void 0:i.onFinish)==null||a.call(i,o),(c=e==null?void 0:e.onFinish)==null||c.call(e,o)},onCancel:o=>{var a,c;(a=i==null?void 0:i.onCancel)==null||a.call(i,o),(c=e==null?void 0:e.onCancel)==null||c.call(e,o)}}),s=n[Lr.TransactionSigning]===Vr.IsLoading;return{openContractCall:r,isRequestPending:s}})}function vf(){const{subscribe:e,update:t,set:n}=mo();return{subscribe:e,changeSetting(r,s){if(!r)return;let i=go(this);i=s,t(o=>i)}}}const Sf=vf(),Di="/citycoin-client/internal/immutable/assets/stx_eco_wallet_on-090e5a93.png",zr="/citycoin-client/internal/immutable/assets/stx_eco_wallet_off-7e8f173f.png";const{console:Ef}=zt,we="src/lib/header/WalletConnectButton.svelte";function Hi(e){let t,n,r,s,i,o,a,c;const l={c:function(){t=_("span"),n=_("a"),r=_("span"),s=_("img"),o=F(" connect"),this.h()},l:function(f){t=k(f,"SPAN",{class:!0});var h=T(t);n=k(h,"A",{href:!0,class:!0});var d=T(n);r=k(d,"SPAN",{class:!0});var w=T(r);s=k(w,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),w.forEach(b),o=M(d," connect"),d.forEach(b),h.forEach(b),this.h()},h:function(){vt(s.src,i=zr)||p(s,"src",i),p(s,"alt","Connect Wallet / Login"),p(s,"width","40"),p(s,"height","auto"),p(s,"class","s-03Bkx-y2PLke"),x(s,we,57,110,1975),p(r,"class","px-1 s-03Bkx-y2PLke"),x(r,we,57,90,1955),p(n,"href","/"),p(n,"class","pointer px-2 s-03Bkx-y2PLke"),x(n,we,57,24,1889),p(t,"class","nav-item s-03Bkx-y2PLke"),x(t,we,57,1,1866)},m:function(f,h){se(f,t,h),y(t,n),y(n,r),y(r,s),y(n,o),a||(c=ye(n,"click",Sr(e[4]),!1,!0,!1),a=!0)},p:ie,d:function(f){f&&b(t),a=!1,c()}};return j("SvelteRegisterBlock",{block:l,id:Hi.name,type:"else",source:"(57:0) {:else}",ctx:e}),l}function Fi(e){let t,n,r,s,i,o,a,c;const l={c:function(){t=_("span"),n=_("a"),r=_("span"),s=_("img"),o=F(" connect"),this.h()},l:function(f){t=k(f,"SPAN",{class:!0});var h=T(t);n=k(h,"A",{href:!0,class:!0});var d=T(n);r=k(d,"SPAN",{class:!0});var w=T(r);s=k(w,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),w.forEach(b),o=M(d," connect"),d.forEach(b),h.forEach(b),this.h()},h:function(){vt(s.src,i=zr)||p(s,"src",i),p(s,"alt","Connect Wallet / Login"),p(s,"width","40"),p(s,"height","auto"),p(s,"class","s-03Bkx-y2PLke"),x(s,we,55,88,1745),p(r,"class","px-2 s-03Bkx-y2PLke"),x(r,we,55,68,1725),p(n,"href","/"),p(n,"class","s-03Bkx-y2PLke"),x(n,we,55,24,1681),p(t,"class","nav-item s-03Bkx-y2PLke"),x(t,we,55,1,1658)},m:function(f,h){se(f,t,h),y(t,n),y(n,r),y(r,s),y(n,o),a||(c=ye(n,"click",Sr(e[4]),!1,!0,!1),a=!0)},p:ie,d:function(f){f&&b(t),a=!1,c()}};return j("SvelteRegisterBlock",{block:l,id:Fi.name,type:"if",source:"(55:33) ",ctx:e}),l}function Mi(e){let t,n,r,s,i,o,a,c;const l={c:function(){t=_("span"),n=_("a"),r=_("span"),s=_("img"),o=F(" Connected"),this.h()},l:function(f){t=k(f,"SPAN",{class:!0});var h=T(t);n=k(h,"A",{href:!0,class:!0,style:!0});var d=T(n);r=k(d,"SPAN",{class:!0});var w=T(r);s=k(w,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),w.forEach(b),o=M(d," Connected"),d.forEach(b),h.forEach(b),this.h()},h:function(){vt(s.src,i=Di)||p(s,"src",i),p(s,"alt","Wallet Connected"),p(s,"width","40"),p(s,"height","auto"),p(s,"class","s-03Bkx-y2PLke"),x(s,we,51,23,1510),p(r,"class","px-2 s-03Bkx-y2PLke"),x(r,we,51,3,1490),p(n,"href","/"),p(n,"class","pointer s-03Bkx-y2PLke"),Fe(n,"vertical-align","middle"),x(n,we,50,2,1393),p(t,"class","nav-item s-03Bkx-y2PLke"),x(t,we,49,1,1367)},m:function(f,h){se(f,t,h),y(t,n),y(n,r),y(r,s),y(n,o),a||(c=ye(n,"click",Sr(e[3]),!1,!0,!1),a=!0)},p:ie,d:function(f){f&&b(t),a=!1,c()}};return j("SvelteRegisterBlock",{block:l,id:Mi.name,type:"if",source:"(49:27) ",ctx:e}),l}function Ki(e){let t,n,r;const s={c:function(){t=_("span"),n=_("a"),r=F("Install Web Wallet"),this.h()},l:function(o){t=k(o,"SPAN",{class:!0,style:!0});var a=T(t);n=k(a,"A",{href:!0,class:!0,target:!0});var c=T(n);r=M(c,"Install Web Wallet"),c.forEach(b),a.forEach(b),this.h()},h:function(){p(n,"href","https://wallet.hiro.so/wallet/install-web"),p(n,"class","pointer s-03Bkx-y2PLke"),p(n,"target","_blank"),x(n,we,44,1,1218),p(t,"class","nav-item s-03Bkx-y2PLke"),Fe(t,"position","relative"),Fe(t,"top","2px"),x(t,we,43,0,1155)},m:function(o,a){se(o,t,a),y(t,n),y(n,r)},p:ie,d:function(o){o&&b(t)}};return j("SvelteRegisterBlock",{block:s,id:Ki.name,type:"if",source:"(43:0) {#if webWalletNeeded}",ctx:e}),s}function lr(e){let t;function n(o,a){return o[0]?Ki:o[1].isSignedIn?Mi:o[1].isRequestPending?Fi:Hi}let r=n(e),s=r(e);const i={c:function(){s.c(),t=fn()},l:function(a){s.l(a),t=fn()},m:function(a,c){s.m(a,c),se(a,t,c)},p:function(a,[c]){r===(r=n(a))&&s?s.p(a,c):(s.d(1),s=r(a),s&&(s.c(),s.m(t.parentNode,t)))},i:ie,o:ie,d:function(a){s.d(a),a&&b(t)}};return j("SvelteRegisterBlock",{block:i,id:lr.name,type:"component",source:"",ctx:e}),i}function _f(e,t,n){let r,{$$slots:s={},$$scope:i}=t;ht("WalletConnectButton",s,[]);const o=lt();Ze(o,"auth"),Qe(e,o,h=>n(1,r=h));const a=ct(),c=()=>{r.signOut()};let l=!1;const u=()=>{try{r.openAuthRequest({onFinish:h=>{console.log(h),window.location.reload()},onCancel:()=>{console.log("canceled")}}).catch(h=>{console.log(h),n(0,l=!1)})}catch{window&&(window.location.href="https://wallet.hiro.so/wallet/install-web")}};un(async()=>{});const f=[];return Object.keys(t).forEach(h=>{!~f.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&Ef.warn(`<WalletConnectButton> was created with unknown prop '${h}'`)}),e.$capture_state=()=>({getAuth:lt,getAccount:ct,settings:Sf,onMount:un,stx_eco_wallet_on:Di,stx_eco_wallet_off:zr,auth:o,account:a,logout:c,webWalletNeeded:l,login:u,$auth:r}),e.$inject_state=h=>{"webWalletNeeded"in h&&n(0,l=h.webWalletNeeded)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[l,r,o,c,u]}class Li extends ut{constructor(t){super(t),ft(this,t,_f,lr,dt,{}),j("SvelteRegisterComponent",{component:this,tagName:"WalletConnectButton",options:t,id:lr.name})}}const Vi="/citycoin-client/internal/immutable/assets/logo-white-68f65e57.jpeg";const Re="src/lib/header/Header.svelte";function ur(e){let t,n,r,s,i,o,a,c,l,u,f,h,d,w;d=new Li({$$inline:!0});const g={c:function(){t=_("nav"),n=_("div"),r=_("a"),s=_("img"),o=W(),a=_("button"),c=_("span"),l=W(),u=_("div"),f=_("ul"),h=_("li"),Wt(d.$$.fragment),this.h()},l:function(A){t=k(A,"NAV",{class:!0});var m=T(t);n=k(m,"DIV",{class:!0});var E=T(n);r=k(E,"A",{class:!0,href:!0});var $=T(r);s=k($,"IMG",{class:!0,src:!0,alt:!0}),$.forEach(b),o=q(E),a=k(E,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var C=T(a);c=k(C,"SPAN",{class:!0}),T(c).forEach(b),C.forEach(b),l=q(E),u=k(E,"DIV",{class:!0,id:!0});var O=T(u);f=k(O,"UL",{class:!0});var L=T(f);h=k(L,"LI",{class:!0});var P=T(h);qt(d.$$.fragment,P),P.forEach(b),L.forEach(b),O.forEach(b),E.forEach(b),m.forEach(b),this.h()},h:function(){p(s,"class","nav-logo s-WFTADzNPIVrM"),vt(s.src,i=Vi)||p(s,"src",i),p(s,"alt","CityCoins Test"),x(s,Re,6,3,272),p(r,"class","navbar-brand s-WFTADzNPIVrM"),p(r,"href","/"),x(r,Re,5,4,235),p(c,"class","navbar-toggler-icon s-WFTADzNPIVrM"),x(c,Re,9,3,525),p(a,"class","navbar-toggler s-WFTADzNPIVrM"),p(a,"type","button"),p(a,"data-bs-toggle","collapse"),p(a,"data-bs-target","#navbarNav"),p(a,"aria-controls","navbarNav"),p(a,"aria-expanded","false"),p(a,"aria-label","Toggle navigation"),x(a,Re,8,2,343),p(h,"class","nav-item mb-1 s-WFTADzNPIVrM"),x(h,Re,13,4,666),p(f,"class","navbar-nav s-WFTADzNPIVrM"),x(f,Re,12,3,638),p(u,"class","collapse navbar-collapse s-WFTADzNPIVrM"),p(u,"id","navbarNav"),x(u,Re,11,2,581),p(n,"class","container-fluid mx-5 s-WFTADzNPIVrM"),x(n,Re,4,1,196),p(t,"class","navbar navbar-expand-md transparent s-WFTADzNPIVrM"),x(t,Re,3,0,145)},m:function(A,m){se(A,t,m),y(t,n),y(n,r),y(r,s),y(n,o),y(n,a),y(a,c),y(n,l),y(n,u),y(u,f),y(f,h),Yt(d,h,null),w=!0},p:ie,i:function(A){w||(ke(d.$$.fragment,A),w=!0)},o:function(A){Te(d.$$.fragment,A),w=!1},d:function(A){A&&b(t),Jt(d)}};return j("SvelteRegisterBlock",{block:g,id:ur.name,type:"component",source:"",ctx:e}),g}function kf(e,t,n){let{$$slots:r={},$$scope:s}=t;ht("Header",r,[]);const i=[];return Object.keys(t).forEach(o=>{!~i.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<Header> was created with unknown prop '${o}'`)}),e.$capture_state=()=>({WalletConnectButton:Li,logoWhite:Vi}),[]}class xf extends ut{constructor(t){super(t),ft(this,t,kf,ur,dt,{}),j("SvelteRegisterComponent",{component:this,tagName:"Header",options:t,id:ur.name})}}const{console:Af}=zt,Oe="src/lib/components/transactions/NetworkStatus.svelte";function fr(e){let t,n,r,s,i,o,a,c,l,u,f,h,d;const w={c:function(){t=_("section"),n=_("div"),r=_("div"),s=_("div"),i=_("div"),o=_("div"),a=_("h1"),c=_("span"),l=F("Transaction"),u=_("br"),f=F("Network Status"),h=W(),d=_("div"),this.h()},l:function(S){t=k(S,"SECTION",{id:!0,class:!0});var A=T(t);n=k(A,"DIV",{class:!0,style:!0});var m=T(n);r=k(m,"DIV",{class:!0,style:!0});var E=T(r);s=k(E,"DIV",{class:!0});var $=T(s);i=k($,"DIV",{class:!0});var C=T(i);o=k(C,"DIV",{class:!0});var O=T(o);a=k(O,"H1",{class:!0});var L=T(a);c=k(L,"SPAN",{class:!0});var P=T(c);l=M(P,"Transaction"),P.forEach(b),u=k(L,"BR",{class:!0}),f=M(L,"Network Status"),L.forEach(b),O.forEach(b),h=q(C),d=k(C,"DIV",{class:!0});var z=T(d);z.forEach(b),C.forEach(b),$.forEach(b),E.forEach(b),m.forEach(b),A.forEach(b),this.h()},h:function(){p(c,"class","strokeme s-XuwTdcgBpGYh"),x(c,Oe,36,34,1207),p(u,"class","s-XuwTdcgBpGYh"),x(u,Oe,36,75,1248),p(a,"class","s-XuwTdcgBpGYh"),x(a,Oe,36,30,1203),p(o,"class","col-12 s-XuwTdcgBpGYh"),x(o,Oe,36,10,1183),p(d,"class","col-sm-6 col-xs-12 p-4 s-XuwTdcgBpGYh"),x(d,Oe,37,10,1289),p(i,"class","row s-XuwTdcgBpGYh"),x(i,Oe,35,8,1155),p(s,"class","m-5 s-XuwTdcgBpGYh"),x(s,Oe,34,6,1129),p(r,"class","col-md-11 col-sm-12 s-XuwTdcgBpGYh"),Fe(r,"height","100%"),x(r,Oe,33,4,1067),p(n,"class","row s-XuwTdcgBpGYh"),Fe(n,"height","100%"),Fe(n,"width","100%"),x(n,Oe,32,2,1010),p(t,"id","section3"),p(t,"class","s-XuwTdcgBpGYh"),x(t,Oe,31,0,984)},m:function(S,A){se(S,t,A),y(t,n),y(n,r),y(r,s),y(s,i),y(i,o),y(o,a),y(a,c),y(c,l),y(a,u),y(a,f),y(i,h),y(i,d)},p:ie,i:ie,o:ie,d:function(S){S&&b(t)}};return j("SvelteRegisterBlock",{block:w,id:fr.name,type:"component",source:"",ctx:e}),w}function Tf(e,t,n){let r,{$$slots:s={},$$scope:i}=t;ht("NetworkStatus",s,[]);const o=tt();Ze(o,"contractCall"),Qe(e,o,l=>n(1,r=l));const a=async()=>{proposal.startHeight=propStart;const l=uintCV(propStart);let f=[contractPrincipalCV(contractId.split(".")[0],contractId.split(".")[1]),l];await r.openContractCall({postConditions:[],postConditionMode:Ke.Deny,contractAddress:{VITE_USER_NODE_ENV:"development",VITE_NETWORK:"testnet",VITE_PUBLIC_EXPLORER_URL:"https://explorer.stacks.co",VITE_APP_STACKS_API:"http://stacks-node-api.testnet.stacks.co",VITE_MIA_CORE:"ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-core-v2",VITE_MIA_AUTH:"ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-auth-v2",VITE_MIA_TOKEN:"ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-token-v2",VITE_NYC_CORE:"STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2",VITE_NYC_AUTH:"STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-auth-v2",VITE_NYC_TOKEN:"STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-token-v2",BASE_URL:"/citycoin-client/",MODE:"staging",DEV:!0,PROD:!1}.VITE_DAO_DEPLOY_ADDRESS,contractName:"ede002-threshold-proposal-submission",functionName:"propose",functionArgs:f,onFinish:h=>{proposal.status={name:"submitting"},proposal.submitTxId=h.txId;let d={VITE_USER_NODE_ENV:"development",VITE_NETWORK:"testnet",VITE_PUBLIC_EXPLORER_URL:"https://explorer.stacks.co",VITE_APP_STACKS_API:"http://stacks-node-api.testnet.stacks.co",VITE_MIA_CORE:"ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-core-v2",VITE_MIA_AUTH:"ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-auth-v2",VITE_MIA_TOKEN:"ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-token-v2",VITE_NYC_CORE:"STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2",VITE_NYC_AUTH:"STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-auth-v2",VITE_NYC_TOKEN:"STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-token-v2",BASE_URL:"/citycoin-client/",MODE:"staging",DEV:!0,PROD:!1}.VITE_CLARITYLAB_API+"/daoapi/v2/proposals";postData(d,proposal)},onCancel:()=>{console.log("popup closed!")}})},c=[];return Object.keys(t).forEach(l=>{!~c.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&Af.warn(`<NetworkStatus> was created with unknown prop '${l}'`)}),e.$capture_state=()=>({PostConditionMode:Ke,getOpenContractCall:tt,contractCall:o,submit:a,$contractCall:r}),[o]}class ji extends ut{constructor(t){super(t),ft(this,t,Tf,fr,dt,{}),j("SvelteRegisterComponent",{component:this,tagName:"NetworkStatus",options:t,id:fr.name})}}const{console:zi}=zt,me="src/lib/components/transactions/MineMany.svelte";function Wi(e){let t,n,r,s;const i={c:function(){t=_("button"),n=F("Send"),this.h()},l:function(a){t=k(a,"BUTTON",{class:!0});var c=T(t);n=M(c,"Send"),c.forEach(b),this.h()},h:function(){p(t,"class","btn btn-info text-white s-MeSPP1JoIJad"),x(t,me,63,8,2547)},m:function(a,c){se(a,t,c),y(t,n),r||(s=ye(t,"click",e[9],!1,!1,!1),r=!0)},p:ie,d:function(a){a&&b(t),r=!1,s()}};return j("SvelteRegisterBlock",{block:i,id:Wi.name,type:"if",source:"(63:8) {#if canRegister}",ctx:e}),i}function dr(e){let t,n;const r={c:function(){t=_("div"),n=F(e[1]),this.h()},l:function(i){t=k(i,"DIV",{class:!0});var o=T(t);n=M(o,e[1]),o.forEach(b),this.h()},h:function(){p(t,"class","text-warning s-MeSPP1JoIJad"),x(t,me,68,24,2721)},m:function(i,o){se(i,t,o),y(t,n)},p:function(i,o){o&2&&Xe(n,i[1])},d:function(i){i&&b(t)}};return j("SvelteRegisterBlock",{block:r,id:dr.name,type:"if",source:"(69:6) {#if errorMessage}",ctx:e}),r}function hr(e){let t,n,r,s,i,o,a,c,l,u,f,h,d,w,g,S,A,m,E,$,C,O,L;function P(re,B){return Wi}let Q=P()(e),R=e[1]&&dr(e);const he={c:function(){t=_("section"),n=_("h3"),r=F(e[0]),s=W(),i=_("div"),o=_("div"),a=_("div"),c=_("label"),l=F("Number of Blocks to Mine"),u=W(),f=_("input"),h=W(),d=_("div"),w=_("div"),g=_("label"),S=F("uSTX Per Block"),A=W(),m=_("input"),E=W(),$=_("div"),Q.c(),C=W(),R&&R.c(),this.h()},l:function(B){t=k(B,"SECTION",{class:!0});var N=T(t);n=k(N,"H3",{class:!0});var le=T(n);r=M(le,e[0]),le.forEach(b),s=q(N),i=k(N,"DIV",{class:!0});var oe=T(i);o=k(oe,"DIV",{class:!0});var X=T(o);a=k(X,"DIV",{class:!0});var K=T(a);c=k(K,"LABEL",{for:!0,class:!0});var pe=T(c);l=M(pe,"Number of Blocks to Mine"),pe.forEach(b),u=q(K),f=k(K,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0,"aria-describedby":!0}),K.forEach(b),X.forEach(b),h=q(oe),d=k(oe,"DIV",{class:!0});var Ee=T(d);w=k(Ee,"DIV",{class:!0});var ue=T(w);g=k(ue,"LABEL",{for:!0,class:!0});var ae=T(g);S=M(ae,"uSTX Per Block"),ae.forEach(b),A=q(ue),m=k(ue,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0,"aria-describedby":!0}),ue.forEach(b),Ee.forEach(b),E=q(oe),$=k(oe,"DIV",{class:!0});var G=T($);Q.l(G),G.forEach(b),C=q(oe),R&&R.l(oe),oe.forEach(b),N.forEach(b),this.h()},h:function(){p(n,"class","s-MeSPP1JoIJad"),x(n,me,47,4,1818),p(c,"for","numberBlocks"),p(c,"class","s-MeSPP1JoIJad"),x(c,me,51,12,1913),p(f,"id","numberBlocks"),p(f,"class","w-100 form-control s-MeSPP1JoIJad"),p(f,"placeholder","Number of blocks to mine"),p(f,"type","string"),p(f,"aria-describedby","Contribution"),x(f,me,52,12,1984),p(a,"class"," s-MeSPP1JoIJad"),x(a,me,50,10,1886),p(o,"class","mb-3 s-MeSPP1JoIJad"),x(o,me,49,8,1857),p(g,"for","stxPerBlock"),p(g,"class","s-MeSPP1JoIJad"),x(g,me,57,12,2245),p(m,"id","stxPerBlock"),p(m,"class","w-100 form-control s-MeSPP1JoIJad"),p(m,"placeholder","STX to commit per block"),p(m,"type","string"),p(m,"aria-describedby","Contribution"),x(m,me,58,12,2305),p(w,"class"," s-MeSPP1JoIJad"),x(w,me,56,10,2218),p(d,"class","mb-3 s-MeSPP1JoIJad"),x(d,me,55,8,2189),p($,"class","s-MeSPP1JoIJad"),x($,me,61,8,2507),p(i,"class","s-MeSPP1JoIJad"),x(i,me,48,4,1843),p(t,"class","s-MeSPP1JoIJad"),x(t,me,46,2,1804)},m:function(B,N){se(B,t,N),y(t,n),y(n,r),y(t,s),y(t,i),y(i,o),y(o,a),y(a,c),y(c,l),y(a,u),y(a,f),Be(f,e[2]),y(i,h),y(i,d),y(d,w),y(w,g),y(g,S),y(w,A),y(w,m),Be(m,e[3]),y(i,E),y(i,$),Q.m($,null),y(i,C),R&&R.m(i,null),O||(L=[ye(f,"input",e[7]),ye(m,"input",e[8])],O=!0)},p:function(B,[N]){N&1&&Xe(r,B[0]),N&4&&Be(f,B[2]),N&8&&Be(m,B[3]),Q.p(B,N),B[1]?R?R.p(B,N):(R=dr(B),R.c(),R.m(i,null)):R&&(R.d(1),R=null)},i:ie,o:ie,d:function(B){B&&b(t),Q.d(),R&&R.d(),O=!1,Er(L)}};return j("SvelteRegisterBlock",{block:he,id:hr.name,type:"component",source:"",ctx:e}),he}const If=!0;function Cf(e,t,n){let r,s,i,o,{$$slots:a={},$$scope:c}=t;ht("MineMany",a,[]);const l=tt();Ze(l,"contractCall"),Qe(e,l,m=>n(11,o=m));let{transType:u}=t,f;const h=ct();Ze(h,"account"),Qe(e,h,m=>n(10,i=m));const d=async()=>{if(!r||r===0){n(1,f="Number of blocks to mine for and amount of stx to commit to each block are both required.");return}if(!s||s===0){n(1,f="Number of blocks to mine for and amount of stx to commit to each block are both required.");return}n(1,f=void 0);const m="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[0],E="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[1];let $=[];for(let O=0;O<r;O++)$.push(Lt(s));let C=ms($);await o.openContractCall({postConditions:[vn(i.stxAddress,jt.Equal,s*r)],postConditionMode:Ke.Deny,contractAddress:m,contractName:E,functionName:u,functionArgs:[C],onFinish:O=>{console.log(O)},onCancel:()=>{console.log("popup closed!")}})},w=["transType"];Object.keys(t).forEach(m=>{!~w.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&zi.warn(`<MineMany> was created with unknown prop '${m}'`)});function g(){r=this.value,n(2,r)}function S(){s=this.value,n(3,s)}const A=()=>d();return e.$$set=m=>{"transType"in m&&n(0,u=m.transType)},e.$capture_state=()=>({listCV:ms,uintCV:Lt,FungibleConditionCode:jt,PostConditionMode:Ke,makeStandardSTXPostCondition:vn,getAuth:lt,getAccount:ct,getOpenContractCall:tt,contractCall:l,transType:u,errorMessage:f,account:h,submit:d,canRegister:If,numberBlocks:r,stxPerBlock:s,$account:i,$contractCall:o}),e.$inject_state=m=>{"transType"in m&&n(0,u=m.transType),"errorMessage"in m&&n(1,f=m.errorMessage),"numberBlocks"in m&&n(2,r=m.numberBlocks),"stxPerBlock"in m&&n(3,s=m.stxPerBlock)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),n(2,r=void 0),n(3,s=void 0),[u,f,r,s,l,h,d,g,S,A]}class qi extends ut{constructor(t){super(t),ft(this,t,Cf,hr,dt,{transType:0}),j("SvelteRegisterComponent",{component:this,tagName:"MineMany",options:t,id:hr.name});const{ctx:n}=this.$$,r=t.props||{};n[0]===void 0&&!("transType"in r)&&zi.warn("<MineMany> was created without expected prop 'transType'")}get transType(){throw new Error("<MineMany>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transType(t){throw new Error("<MineMany>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Yi}=zt,ge="src/lib/components/transactions/MineTokens.svelte";function Ji(e){let t,n,r,s;const i={c:function(){t=_("button"),n=F("Send"),this.h()},l:function(a){t=k(a,"BUTTON",{class:!0});var c=T(t);n=M(c,"Send"),c.forEach(b),this.h()},h:function(){p(t,"class","btn btn-info text-white s-Qmkf-oCcCceq"),x(t,ge,60,8,2227)},m:function(a,c){se(a,t,c),y(t,n),r||(s=ye(t,"click",e[10],!1,!1,!1),r=!0)},p:ie,d:function(a){a&&b(t),r=!1,s()}};return j("SvelteRegisterBlock",{block:i,id:Ji.name,type:"if",source:"(60:8) {#if canRegister}",ctx:e}),i}function pr(e){let t,n;const r={c:function(){t=_("div"),n=F(e[1]),this.h()},l:function(i){t=k(i,"DIV",{class:!0});var o=T(t);n=M(o,e[1]),o.forEach(b),this.h()},h:function(){p(t,"class","text-warning s-Qmkf-oCcCceq"),x(t,ge,65,24,2401)},m:function(i,o){se(i,t,o),y(t,n)},p:function(i,o){o&2&&Xe(n,i[1])},d:function(i){i&&b(t)}};return j("SvelteRegisterBlock",{block:r,id:pr.name,type:"if",source:"(66:6) {#if errorMessage}",ctx:e}),r}function gr(e){let t,n,r,s,i,o=e[4].stxAddress+"",a,c,l,u,f,h,d,w,g,S,A,m,E,$,C,O,L,P,z,Q,R;function he(oe,X){return Ji}let B=he()(e),N=e[1]&&pr(e);const le={c:function(){t=_("section"),n=_("h3"),r=F(e[0]),s=W(),i=_("p"),a=F(o),c=W(),l=_("div"),u=_("div"),f=_("div"),h=_("label"),d=F("Memo (optional)"),w=W(),g=_("input"),S=W(),A=_("div"),m=_("div"),E=_("label"),$=F("Amount uSTX"),C=W(),O=_("input"),L=W(),P=_("div"),B.c(),z=W(),N&&N.c(),this.h()},l:function(X){t=k(X,"SECTION",{class:!0});var K=T(t);n=k(K,"H3",{class:!0});var pe=T(n);r=M(pe,e[0]),pe.forEach(b),s=q(K),i=k(K,"P",{class:!0});var Ee=T(i);a=M(Ee,o),Ee.forEach(b),c=q(K),l=k(K,"DIV",{class:!0});var ue=T(l);u=k(ue,"DIV",{class:!0});var ae=T(u);f=k(ae,"DIV",{class:!0});var G=T(f);h=k(G,"LABEL",{for:!0,class:!0});var $t=T(h);d=M($t,"Memo (optional)"),$t.forEach(b),w=q(G),g=k(G,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0,"aria-describedby":!0}),G.forEach(b),ae.forEach(b),S=q(ue),A=k(ue,"DIV",{class:!0});var Ce=T(A);m=k(Ce,"DIV",{class:!0});var D=T(m);E=k(D,"LABEL",{for:!0,class:!0});var ee=T(E);$=M(ee,"Amount uSTX"),ee.forEach(b),C=q(D),O=k(D,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0,"aria-describedby":!0}),D.forEach(b),Ce.forEach(b),L=q(ue),P=k(ue,"DIV",{class:!0});var Ot=T(P);B.l(Ot),Ot.forEach(b),z=q(ue),N&&N.l(ue),ue.forEach(b),K.forEach(b),this.h()},h:function(){p(n,"class","s-Qmkf-oCcCceq"),x(n,ge,43,4,1522),p(i,"class","s-Qmkf-oCcCceq"),x(i,ge,44,4,1547),p(h,"for","memo"),p(h,"class","s-Qmkf-oCcCceq"),x(h,ge,48,12,1650),p(g,"id","memo"),p(g,"class","w-100 form-control s-Qmkf-oCcCceq"),p(g,"placeholder","Memo"),p(g,"type","string"),p(g,"aria-describedby","Contribution"),x(g,ge,49,12,1704),p(f,"class"," s-Qmkf-oCcCceq"),x(f,ge,47,10,1623),p(u,"class","mb-3 s-Qmkf-oCcCceq"),x(u,ge,46,8,1594),p(E,"for","stxPerBlock"),p(E,"class","s-Qmkf-oCcCceq"),x(E,ge,54,12,1929),p(O,"id","stxPerBlock"),p(O,"class","w-100 form-control s-Qmkf-oCcCceq"),p(O,"placeholder","STX to commit per block"),p(O,"type","string"),p(O,"aria-describedby","Contribution"),x(O,ge,55,12,1986),p(m,"class"," s-Qmkf-oCcCceq"),x(m,ge,53,10,1902),p(A,"class","mb-3 s-Qmkf-oCcCceq"),x(A,ge,52,8,1873),p(P,"class","s-Qmkf-oCcCceq"),x(P,ge,58,8,2187),p(l,"class","s-Qmkf-oCcCceq"),x(l,ge,45,4,1580),p(t,"class","s-Qmkf-oCcCceq"),x(t,ge,42,2,1508)},m:function(X,K){se(X,t,K),y(t,n),y(n,r),y(t,s),y(t,i),y(i,a),y(t,c),y(t,l),y(l,u),y(u,f),y(f,h),y(h,d),y(f,w),y(f,g),Be(g,e[3]),y(l,S),y(l,A),y(A,m),y(m,E),y(E,$),y(m,C),y(m,O),Be(O,e[2]),y(l,L),y(l,P),B.m(P,null),y(l,z),N&&N.m(l,null),Q||(R=[ye(g,"input",e[8]),ye(O,"input",e[9])],Q=!0)},p:function(X,[K]){K&1&&Xe(r,X[0]),K&16&&o!==(o=X[4].stxAddress+"")&&Xe(a,o),K&8&&Be(g,X[3]),K&4&&Be(O,X[2]),B.p(X,K),X[1]?N?N.p(X,K):(N=pr(X),N.c(),N.m(l,null)):N&&(N.d(1),N=null)},i:ie,o:ie,d:function(X){X&&b(t),B.d(),N&&N.d(),Q=!1,Er(R)}};return j("SvelteRegisterBlock",{block:le,id:gr.name,type:"component",source:"",ctx:e}),le}const $f=!0;function Of(e,t,n){let r,s,i,o,{$$slots:a={},$$scope:c}=t;ht("MineTokens",a,[]);const l=tt();Ze(l,"contractCall"),Qe(e,l,E=>n(11,o=E));let{transType:u}=t,f;const h=lt(),d=ct();Ze(d,"account"),Qe(e,d,E=>n(4,i=E));const w=async()=>{if(!r||r===0){n(1,f="Amount of stx to commit is required.");return}n(1,f=void 0);const E="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[0],$="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[1];let C=wn();s&&(C=bn(mn(s))),await o.openContractCall({postConditions:[vn(i.stxAddress,jt.Equal,r)],postConditionMode:Ke.Deny,contractAddress:E,contractName:$,functionName:u,functionArgs:[Lt(r),C],onFinish:O=>{console.log(O)},onCancel:()=>{console.log("popup closed!")}})},g=["transType"];Object.keys(t).forEach(E=>{!~g.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&Yi.warn(`<MineTokens> was created with unknown prop '${E}'`)});function S(){s=this.value,n(3,s)}function A(){r=this.value,n(2,r)}const m=()=>w();return e.$$set=E=>{"transType"in E&&n(0,u=E.transType)},e.$capture_state=()=>({uintCV:Lt,noneCV:wn,someCV:bn,bufferCV:mn,FungibleConditionCode:jt,PostConditionMode:Ke,makeStandardSTXPostCondition:vn,getAuth:lt,getAccount:ct,getOpenContractCall:tt,contractCall:l,transType:u,errorMessage:f,auth:h,account:d,submit:w,canRegister:$f,amountUstx:r,memo:s,$account:i,$contractCall:o}),e.$inject_state=E=>{"transType"in E&&n(0,u=E.transType),"errorMessage"in E&&n(1,f=E.errorMessage),"amountUstx"in E&&n(2,r=E.amountUstx),"memo"in E&&n(3,s=E.memo)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),n(2,r=void 0),n(3,s=void 0),[u,f,r,s,i,l,d,w,S,A,m]}class Gi extends ut{constructor(t){super(t),ft(this,t,Of,gr,dt,{transType:0}),j("SvelteRegisterComponent",{component:this,tagName:"MineTokens",options:t,id:gr.name});const{ctx:n}=this.$$,r=t.props||{};n[0]===void 0&&!("transType"in r)&&Yi.warn("<MineTokens> was created without expected prop 'transType'")}get transType(){throw new Error("<MineTokens>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transType(t){throw new Error("<MineTokens>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Zi}=zt,qe="src/lib/components/transactions/RegisterUser.svelte";function Qi(e){let t,n,r,s;const i={c:function(){t=_("button"),n=F("Send"),this.h()},l:function(a){t=k(a,"BUTTON",{class:!0});var c=T(t);n=M(c,"Send"),c.forEach(b),this.h()},h:function(){p(t,"class","btn btn-info text-white s-wqAD6XYjH2hr"),x(t,qe,41,3,1275)},m:function(a,c){se(a,t,c),y(t,n),r||(s=ye(t,"click",e[5],!1,!1,!1),r=!0)},p:ie,d:function(a){a&&b(t),r=!1,s()}};return j("SvelteRegisterBlock",{block:i,id:Qi.name,type:"if",source:"(41:3) {#if canRegister}",ctx:e}),i}function yr(e){let t,n,r,s,i,o,a,c,l,u,f,h;function d(A,m){return Qi}let g=d()(e);const S={c:function(){t=_("section"),n=_("h3"),r=F(e[0]),s=W(),i=_("div"),o=_("div"),a=_("div"),c=_("input"),l=W(),u=_("div"),g.c(),this.h()},l:function(m){t=k(m,"SECTION",{class:!0});var E=T(t);n=k(E,"H3",{class:!0});var $=T(n);r=M($,e[0]),$.forEach(b),s=q(E),i=k(E,"DIV",{class:!0});var C=T(i);o=k(C,"DIV",{class:!0});var O=T(o);a=k(O,"DIV",{class:!0});var L=T(a);c=k(L,"INPUT",{class:!0,placeholder:!0,type:!0,"aria-describedby":!0}),L.forEach(b),O.forEach(b),l=q(C),u=k(C,"DIV",{class:!0});var P=T(u);g.l(P),P.forEach(b),C.forEach(b),E.forEach(b),this.h()},h:function(){p(n,"class","s-wqAD6XYjH2hr"),x(n,qe,32,1,1031),p(c,"class","w-100 form-control s-wqAD6XYjH2hr"),p(c,"placeholder","memo"),p(c,"type","string"),p(c,"aria-describedby","Contribution"),x(c,qe,36,4,1105),p(a,"class"," s-wqAD6XYjH2hr"),x(a,qe,35,3,1086),p(o,"class","mb-3 s-wqAD6XYjH2hr"),x(o,qe,34,2,1064),p(u,"class","s-wqAD6XYjH2hr"),x(u,qe,39,2,1245),p(i,"class","s-wqAD6XYjH2hr"),x(i,qe,33,4,1056),p(t,"class","s-wqAD6XYjH2hr"),x(t,qe,31,0,1020)},m:function(m,E){se(m,t,E),y(t,n),y(n,r),y(t,s),y(t,i),y(i,o),y(o,a),y(a,c),Be(c,e[1]),y(i,l),y(i,u),g.m(u,null),f||(h=ye(c,"input",e[4]),f=!0)},p:function(m,[E]){E&1&&Xe(r,m[0]),E&2&&Be(c,m[1]),g.p(m,E)},i:ie,o:ie,d:function(m){m&&b(t),g.d(),f=!1,h()}};return j("SvelteRegisterBlock",{block:S,id:yr.name,type:"component",source:"",ctx:e}),S}const Bf=!0;function Nf(e,t,n){let r,s,{$$slots:i={},$$scope:o}=t;ht("RegisterUser",i,[]);const a=tt();Ze(a,"contractCall"),Qe(e,a,d=>n(6,s=d));let{transType:c}=t;const l=async()=>{const d="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[0],w="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[1];let g=wn();r&&(g=bn(mn(r))),await s.openContractCall({postConditions:[],postConditionMode:Ke.Deny,contractAddress:d,contractName:w,functionName:c,functionArgs:[g],onFinish:S=>{console.log(S)},onCancel:()=>{console.log("popup closed!")}})},u=["transType"];Object.keys(t).forEach(d=>{!~u.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&Zi.warn(`<RegisterUser> was created with unknown prop '${d}'`)});function f(){r=this.value,n(1,r)}const h=()=>l();return e.$$set=d=>{"transType"in d&&n(0,c=d.transType)},e.$capture_state=()=>({noneCV:wn,someCV:bn,bufferCV:mn,PostConditionMode:Ke,getOpenContractCall:tt,contractCall:a,transType:c,submit:l,canRegister:Bf,memo:r,$contractCall:s}),e.$inject_state=d=>{"transType"in d&&n(0,c=d.transType),"memo"in d&&n(1,r=d.memo)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),n(1,r=void 0),[c,r,a,l,f,h]}class Xi extends ut{constructor(t){super(t),ft(this,t,Nf,yr,dt,{transType:0}),j("SvelteRegisterComponent",{component:this,tagName:"RegisterUser",options:t,id:yr.name});const{ctx:n}=this.$$,r=t.props||{};n[0]===void 0&&!("transType"in r)&&Zi.warn("<RegisterUser> was created without expected prop 'transType'")}get transType(){throw new Error("<RegisterUser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set transType(t){throw new Error("<RegisterUser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var mr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function n(r,s,i){i===void 0&&(i=!1),i&&(s=s/r,r=1);var o=[],a=0,c=0,l,u=function(){var f=a+s,h=Date.now();if(h<f){l!==void 0&&clearTimeout(l),l=setTimeout(u,f-h);return}a=h,c=0;for(var d=0,w=o.splice(0,r);d<w.length;d++){var g=w[d];c++,g()}o.length?l=setTimeout(u,s):l=void 0};return function(f){return new Promise(function(h,d){var w=function(){return Promise.resolve().then(f).then(h).catch(d)},g=Date.now();l===void 0&&g-a>s&&(a=g,c=0),c++<r?w():(o.push(w),l===void 0&&(l=setTimeout(u,a+s-g)))})}}e.exports=n,t.default=n})(mr,mr.exports);const Pf=Ou(mr.exports),Uf=!1,Rf=e=>Uf,Df=Pf(1,1e3,!0),eo=async e=>{const t=await Df(()=>fetch(e));if(t.status===200){const n=await t.json();return Rf(`fetchJson: ${JSON.stringify(n)}`),n}throw new Error(`fetchJson: ${e} ${t.status} ${t.statusText}`)},Hf=new at({coreApiUrl:"https://stacks-node-api.mainnet.stacks.co"});new Tn({coreApiUrl:"https://stacks-node-api.testnet.stacks.co"});const to=Hf;async function Es(){const e=`${to.getCoreApiUrl()}/v2/info`;return+(await eo(e)).stacks_tip_height}async function _s(){const e=`${to.getCoreApiUrl()}/extended/v1/tx/mempool`;return+(await eo(e)).total}const no="/citycoin-client/internal/immutable/assets/cityscape-1-e40e85a0.jpeg",ro="/citycoin-client/internal/immutable/assets/stx_eco_arrow_down-e17d52f2.png";const H="src/lib/components/homepage/Section1.svelte";function so(e){let t,n;const r={c:function(){t=_("span"),n=F("Connect Wallet"),this.h()},l:function(i){t=k(i,"SPAN",{class:!0});var o=T(t);n=M(o,"Connect Wallet"),o.forEach(b),this.h()},h:function(){p(t,"class","nav-item s-kOOtaBUFmdYo"),x(t,H,83,6,3193)},m:function(i,o){se(i,t,o),y(t,n)},p:ie,i:ie,o:ie,d:function(i){i&&b(t)}};return j("SvelteRegisterBlock",{block:r,id:so.name,type:"else",source:"(83:4) {:else}",ctx:e}),r}function io(e){let t,n,r,s,i,o,a,c,l,u,f,h,d,w,g,S,A,m,E,$,C,O,L,P,z,Q,R,he="STSCWDV3RKV5ZRN1FQD84YE1NQFEDJ9R1D64KKHQ.newyorkcitycoin-core-v2".split(".")[1]+"",re,B,N="ST1H1733V5MZ3SZ9XRW9FKYGEZT0JDGEB8WRH7C6H.miamicoin-core-v2".split(".")[1]+"",le,oe,X,K,pe,Ee,ue,ae=e[0]&&wr(e),G=e[2]&&br(e);const $t={c:function(){t=_("div"),n=_("div"),r=F(e[7]),s=W(),i=_("div"),o=F("Mem Pool: "),a=F(e[3]),c=W(),l=_("div"),u=F("Block Height: "),f=F(e[4]),h=W(),d=_("div"),w=W(),g=_("div"),S=_("div"),A=_("select"),m=_("option"),E=F("Select Version"),$=_("option"),C=F("V2"),O=W(),L=_("div"),P=_("select"),z=_("option"),Q=F("Select City"),R=_("option"),re=F(he),B=_("option"),le=F(N),oe=W(),ae&&ae.c(),X=W(),G&&G.c(),K=fn(),this.h()},l:function(D){t=k(D,"DIV",{class:!0});var ee=T(t);n=k(ee,"DIV",{class:!0});var Ot=T(n);r=M(Ot,e[7]),Ot.forEach(b),s=q(ee),i=k(ee,"DIV",{class:!0});var Cn=T(i);o=M(Cn,"Mem Pool: "),a=M(Cn,e[3]),Cn.forEach(b),c=q(ee),l=k(ee,"DIV",{class:!0});var $n=T(l);u=M($n,"Block Height: "),f=M($n,e[4]),$n.forEach(b),h=q(ee),d=k(ee,"DIV",{class:!0}),T(d).forEach(b),ee.forEach(b),w=q(D),g=k(D,"DIV",{class:!0});var yt=T(g);S=k(yt,"DIV",{class:!0});var Wr=T(S);A=k(Wr,"SELECT",{class:!0,"aria-label":!0});var On=T(A);m=k(On,"OPTION",{class:!0});var qr=T(m);E=M(qr,"Select Version"),qr.forEach(b),$=k(On,"OPTION",{class:!0});var Yr=T($);C=M(Yr,"V2"),Yr.forEach(b),On.forEach(b),Wr.forEach(b),O=q(yt),L=k(yt,"DIV",{class:!0});var Jr=T(L);P=k(Jr,"SELECT",{class:!0,"aria-label":!0});var Xt=T(P);z=k(Xt,"OPTION",{class:!0});var Gr=T(z);Q=M(Gr,"Select City"),Gr.forEach(b),R=k(Xt,"OPTION",{class:!0});var Zr=T(R);re=M(Zr,he),Zr.forEach(b),B=k(Xt,"OPTION",{class:!0});var Qr=T(B);le=M(Qr,N),Qr.forEach(b),Xt.forEach(b),Jr.forEach(b),oe=q(yt),ae&&ae.l(yt),yt.forEach(b),X=q(D),G&&G.l(D),K=fn(),this.h()},h:function(){p(n,"class","col-2 s-kOOtaBUFmdYo"),x(n,H,37,6,1398),p(i,"class","col-2 s-kOOtaBUFmdYo"),x(i,H,38,6,1440),p(l,"class","col-2 s-kOOtaBUFmdYo"),x(l,H,39,6,1498),p(d,"class","col-6 s-kOOtaBUFmdYo"),x(d,H,40,6,1564),p(t,"class","row g-1 mb-3 bg-light text-dark py-2 px-2 s-kOOtaBUFmdYo"),x(t,H,36,4,1336),m.__value="",m.value=m.__value,p(m,"class","s-kOOtaBUFmdYo"),x(m,H,45,10,1762),$.__value="v2",$.value=$.__value,p($,"class","s-kOOtaBUFmdYo"),x($,H,46,10,1813),p(A,"class","form-select s-kOOtaBUFmdYo"),p(A,"aria-label","Default select example"),e[1]===void 0&&jn(()=>e[9].call(A)),x(A,H,44,8,1666),p(S,"class","col-2 s-kOOtaBUFmdYo"),x(S,H,43,6,1638),z.__value="",z.value=z.__value,p(z,"class","s-kOOtaBUFmdYo"),x(z,H,51,10,2005),R.__value="nyc",R.value=R.__value,p(R,"class","s-kOOtaBUFmdYo"),x(R,H,52,10,2053),B.__value="mia",B.value=B.__value,p(B,"class","s-kOOtaBUFmdYo"),x(B,H,53,10,2138),p(P,"class","form-select s-kOOtaBUFmdYo"),p(P,"aria-label","Default select example"),e[0]===void 0&&jn(()=>e[10].call(P)),x(P,H,50,8,1909),p(L,"class","col-2 s-kOOtaBUFmdYo"),x(L,H,49,6,1881),p(g,"class","row g-1 mb-3 s-kOOtaBUFmdYo"),x(g,H,42,4,1605)},m:function(D,ee){se(D,t,ee),y(t,n),y(n,r),y(t,s),y(t,i),y(i,o),y(i,a),y(t,c),y(t,l),y(l,u),y(l,f),y(t,h),y(t,d),se(D,w,ee),se(D,g,ee),y(g,S),y(S,A),y(A,m),y(m,E),y(A,$),y($,C),bt(A,e[1]),y(g,O),y(g,L),y(L,P),y(P,z),y(z,Q),y(P,R),y(R,re),y(P,B),y(B,le),bt(P,e[0]),y(g,oe),ae&&ae.m(g,null),se(D,X,ee),G&&G.m(D,ee),se(D,K,ee),pe=!0,Ee||(ue=[ye(A,"change",e[9]),ye(P,"change",e[10])],Ee=!0)},p:function(D,ee){(!pe||ee&8)&&Xe(a,D[3]),(!pe||ee&16)&&Xe(f,D[4]),ee&2&&bt(A,D[1]),ee&1&&bt(P,D[0]),D[0]?ae?ae.p(D,ee):(ae=wr(D),ae.c(),ae.m(g,null)):ae&&(ae.d(1),ae=null),D[2]?G?(G.p(D,ee),ee&4&&ke(G,1)):(G=br(D),G.c(),ke(G,1),G.m(K.parentNode,K)):G&&(_r(),Te(G,1,1,()=>{G=null}),kr())},i:function(D){pe||(ke(G),pe=!0)},o:function(D){Te(G),pe=!1},d:function(D){D&&b(t),D&&b(w),D&&b(g),ae&&ae.d(),D&&b(X),G&&G.d(D),D&&b(K),Ee=!1,Er(ue)}};return j("SvelteRegisterBlock",{block:$t,id:io.name,type:"if",source:"(36:4) {#if $auth.isSignedIn}",ctx:e}),$t}function wr(e){let t,n,r,s,i,o,a,c,l,u,f,h;const d={c:function(){t=_("div"),n=_("select"),r=_("option"),s=F("Select Transaction"),i=_("option"),o=F("register-user"),a=_("option"),c=F("mine-tokens"),l=_("option"),u=F("mine-many"),this.h()},l:function(g){t=k(g,"DIV",{class:!0});var S=T(t);n=k(S,"SELECT",{class:!0,"aria-label":!0});var A=T(n);r=k(A,"OPTION",{class:!0});var m=T(r);s=M(m,"Select Transaction"),m.forEach(b),i=k(A,"OPTION",{class:!0});var E=T(i);o=M(E,"register-user"),E.forEach(b),a=k(A,"OPTION",{class:!0});var $=T(a);c=M($,"mine-tokens"),$.forEach(b),l=k(A,"OPTION",{class:!0});var C=T(l);u=M(C,"mine-many"),C.forEach(b),A.forEach(b),S.forEach(b),this.h()},h:function(){r.__value="",r.value=r.__value,p(r,"class","s-kOOtaBUFmdYo"),x(r,H,59,10,2396),i.__value="register-user",i.value=i.__value,p(i,"class","s-kOOtaBUFmdYo"),x(i,H,60,10,2451),a.__value="mine-tokens",a.value=a.__value,p(a,"class","s-kOOtaBUFmdYo"),x(a,H,61,10,2514),l.__value="mine-many",l.value=l.__value,p(l,"class","s-kOOtaBUFmdYo"),x(l,H,62,10,2573),p(n,"class","form-select s-kOOtaBUFmdYo"),p(n,"aria-label","Default select example"),e[2]===void 0&&jn(()=>e[11].call(n)),x(n,H,58,8,2298),p(t,"class","col-2 s-kOOtaBUFmdYo"),x(t,H,57,6,2270)},m:function(g,S){se(g,t,S),y(t,n),y(n,r),y(r,s),y(n,i),y(i,o),y(n,a),y(a,c),y(n,l),y(l,u),bt(n,e[2]),f||(h=ye(n,"change",e[11]),f=!0)},p:function(g,S){S&4&&bt(n,g[2])},d:function(g){g&&b(t),f=!1,h()}};return j("SvelteRegisterBlock",{block:d,id:wr.name,type:"if",source:"(57:6) {#if assetId}",ctx:e}),d}function br(e){let t,n,r,s,i;const o=[lo,co,ao,oo],a=[];function c(u,f){return u[2]==="get-network-status"?0:u[2]==="mine-tokens"?1:u[2]==="mine-many"?2:u[2]==="register-user"?3:-1}~(r=c(e))&&(s=a[r]=o[r](e));const l={c:function(){t=_("div"),n=_("div"),s&&s.c(),this.h()},l:function(f){t=k(f,"DIV",{class:!0});var h=T(t);n=k(h,"DIV",{class:!0});var d=T(n);s&&s.l(d),d.forEach(b),h.forEach(b),this.h()},h:function(){p(n,"class","col-12 s-kOOtaBUFmdYo"),x(n,H,69,8,2764),p(t,"class","row g-1 my-4 bg-light text-dark py-2 px-2 s-kOOtaBUFmdYo"),x(t,H,68,6,2700)},m:function(f,h){se(f,t,h),y(t,n),~r&&a[r].m(n,null),i=!0},p:function(f,h){let d=r;r=c(f),r===d?~r&&a[r].p(f,h):(s&&(_r(),Te(a[d],1,1,()=>{a[d]=null}),kr()),~r?(s=a[r],s?s.p(f,h):(s=a[r]=o[r](f),s.c()),ke(s,1),s.m(n,null)):s=null)},i:function(f){i||(ke(s),i=!0)},o:function(f){Te(s),i=!1},d:function(f){f&&b(t),~r&&a[r].d()}};return j("SvelteRegisterBlock",{block:l,id:br.name,type:"if",source:"(68:6) {#if transType}",ctx:e}),l}function oo(e){let t,n;t=new Xi({props:{transType:e[2]},$$inline:!0});const r={c:function(){Wt(t.$$.fragment)},l:function(i){qt(t.$$.fragment,i)},m:function(i,o){Yt(t,i,o),n=!0},p:function(i,o){const a={};o&4&&(a.transType=i[2]),t.$set(a)},i:function(i){n||(ke(t.$$.fragment,i),n=!0)},o:function(i){Te(t.$$.fragment,i),n=!1},d:function(i){Jt(t,i)}};return j("SvelteRegisterBlock",{block:r,id:oo.name,type:"if",source:"(77:50) ",ctx:e}),r}function ao(e){let t,n;t=new qi({props:{transType:e[2]},$$inline:!0});const r={c:function(){Wt(t.$$.fragment)},l:function(i){qt(t.$$.fragment,i)},m:function(i,o){Yt(t,i,o),n=!0},p:function(i,o){const a={};o&4&&(a.transType=i[2]),t.$set(a)},i:function(i){n||(ke(t.$$.fragment,i),n=!0)},o:function(i){Te(t.$$.fragment,i),n=!1},d:function(i){Jt(t,i)}};return j("SvelteRegisterBlock",{block:r,id:ao.name,type:"if",source:"(75:46) ",ctx:e}),r}function co(e){let t,n;t=new Gi({props:{transType:e[2]},$$inline:!0});const r={c:function(){Wt(t.$$.fragment)},l:function(i){qt(t.$$.fragment,i)},m:function(i,o){Yt(t,i,o),n=!0},p:function(i,o){const a={};o&4&&(a.transType=i[2]),t.$set(a)},i:function(i){n||(ke(t.$$.fragment,i),n=!0)},o:function(i){Te(t.$$.fragment,i),n=!1},d:function(i){Jt(t,i)}};return j("SvelteRegisterBlock",{block:r,id:co.name,type:"if",source:"(73:48) ",ctx:e}),r}function lo(e){let t,n;t=new ji({$$inline:!0});const r={c:function(){Wt(t.$$.fragment)},l:function(i){qt(t.$$.fragment,i)},m:function(i,o){Yt(t,i,o),n=!0},p:ie,i:function(i){n||(ke(t.$$.fragment,i),n=!0)},o:function(i){Te(t.$$.fragment,i),n=!1},d:function(i){Jt(t,i)}};return j("SvelteRegisterBlock",{block:r,id:lo.name,type:"if",source:"(71:10) {#if transType === 'get-network-status'}",ctx:e}),r}function vr(e){let t,n,r,s,i,o,a,c,l,u,f,h,d,w,g,S,A,m,E,$,C,O,L,P;const z=[io,so],Q=[];function R(re,B){return re[5].isSignedIn?0:1}l=R(e),u=Q[l]=z[l](e);const he={c:function(){t=_("section"),n=_("img"),s=W(),i=_("div"),o=_("h1"),a=F("City Coins Test Application"),c=W(),u.c(),f=W(),h=_("div"),d=_("div"),w=_("div"),g=W(),S=_("div"),A=_("span"),m=_("img"),$=W(),C=_("div"),this.h()},l:function(B){t=k(B,"SECTION",{id:!0,style:!0,class:!0});var N=T(t);n=k(N,"IMG",{src:!0,alt:!0,style:!0,class:!0}),s=q(N),i=k(N,"DIV",{class:!0});var le=T(i);o=k(le,"H1",{class:!0});var oe=T(o);a=M(oe,"City Coins Test Application"),oe.forEach(b),c=q(le),u.l(le),le.forEach(b),f=q(N),h=k(N,"DIV",{class:!0});var X=T(h);d=k(X,"DIV",{class:!0});var K=T(d);w=k(K,"DIV",{class:!0}),T(w).forEach(b),g=q(K),S=k(K,"DIV",{class:!0});var pe=T(S);A=k(pe,"SPAN",{class:!0});var Ee=T(A);m=k(Ee,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),Ee.forEach(b),pe.forEach(b),$=q(K),C=k(K,"DIV",{class:!0}),T(C).forEach(b),K.forEach(b),X.forEach(b),N.forEach(b),this.h()},h:function(){vt(n.src,r=no)||p(n,"src",r),p(n,"alt","night time"),Fe(n,"min-height","100%"),Fe(n,"min-width","100%"),Fe(n,"object-fit","cover"),p(n,"class","s-kOOtaBUFmdYo"),x(n,H,30,2,1129),p(o,"class","s-kOOtaBUFmdYo"),x(o,H,32,4,1256),p(i,"class","content s-kOOtaBUFmdYo"),x(i,H,31,2,1230),p(w,"class","s-kOOtaBUFmdYo"),x(w,H,88,6,3343),vt(m.src,E=ro)||p(m,"src",E),p(m,"alt","Scroll down"),p(m,"width","30"),p(m,"height","auto"),p(m,"class","s-kOOtaBUFmdYo"),x(m,H,89,53,3408),p(A,"class","pointer s-kOOtaBUFmdYo"),x(A,H,89,11,3366),p(S,"class","s-kOOtaBUFmdYo"),x(S,H,89,6,3361),p(C,"class","s-kOOtaBUFmdYo"),x(C,H,90,6,3491),p(d,"class","d-flex justify-content-between s-kOOtaBUFmdYo"),x(d,H,87,4,3292),p(h,"class","section-footer s-kOOtaBUFmdYo"),x(h,H,86,2,3259),p(t,"id","section1"),p(t,"style",""),p(t,"class","s-kOOtaBUFmdYo"),x(t,H,29,0,1094)},m:function(B,N){se(B,t,N),y(t,n),y(t,s),y(t,i),y(i,o),y(o,a),y(i,c),Q[l].m(i,null),y(t,f),y(t,h),y(h,d),y(d,w),y(d,g),y(d,S),y(S,A),y(A,m),y(d,$),y(d,C),O=!0,L||(P=ye(A,"click",e[8],!1,!1,!1),L=!0)},p:function(B,[N]){let le=l;l=R(B),l===le?Q[l].p(B,N):(_r(),Te(Q[le],1,1,()=>{Q[le]=null}),kr(),u=Q[l],u?u.p(B,N):(u=Q[l]=z[l](B),u.c()),ke(u,1),u.m(i,null))},i:function(B){O||(ke(u),O=!0)},o:function(B){Te(u),O=!1},d:function(B){B&&b(t),Q[l].d(),L=!1,P()}};return j("SvelteRegisterBlock",{block:he,id:vr.name,type:"component",source:"",ctx:e}),he}function Ff(e,t,n){let r,{$$slots:s={},$$scope:i}=t;ht("Section1",s,[]);const o=lt();Ze(o,"auth"),Qe(e,o,m=>n(5,r=m));const a="testnet";let c,l,u;const f=()=>{const m=document.getElementById("footer-section");m&&m.scrollIntoView({behavior:"smooth"})};let h=0,d=0;un(async()=>{n(3,h=await _s()),n(4,d=await Es())});const w=[];Object.keys(t).forEach(m=>{!~w.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<Section1> was created with unknown prop '${m}'`)});function g(){l=Bn(this),n(1,l)}function S(){c=Bn(this),n(0,c)}function A(){u=Bn(this),n(2,u)}return e.$capture_state=()=>({Header:xf,getAuth:lt,getNetwork:bf,NetworkStatus:ji,MineMany:qi,MineTokens:Gi,RegisterUser:Xi,getStacksBlockHeight:Es,getTotalMempoolTx:_s,onMount:un,poster:no,arrow1:ro,auth:o,network:a,assetId:c,version:l,transType:u,scrollTo:f,mempoolTxCount:h,stacksBlockHeight:d,$auth:r}),e.$inject_state=m=>{"assetId"in m&&n(0,c=m.assetId),"version"in m&&n(1,l=m.version),"transType"in m&&n(2,u=m.transType),"mempoolTxCount"in m&&n(3,h=m.mempoolTxCount),"stacksBlockHeight"in m&&n(4,d=m.stacksBlockHeight)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,l,u,h,d,r,o,a,f,g,S,A]}class jf extends ut{constructor(t){super(t),ft(this,t,Ff,vr,dt,{}),j("SvelteRegisterComponent",{component:this,tagName:"Section1",options:t,id:vr.name})}}export{In as C,xf as H,jf as S,lt as a,ct as b,bf as f,Vi as l,Vf as s};
